
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rasa Open Source Change Log</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/banner.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Rasa as open source alternative to Google Dialogflow - Migration Guide" href="../migrate-from/google-dialogflow-to-rasa/" />
    <link rel="prev" title="Migration Guide" href="../migration-guide/" />

  <!-- Google Tag Manager -->
  <script type="opt-in" data-type="application/javascript" data-name="analytics">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MMHSZCS');</script>
  <!-- End Google Tag Manager -->
   
  
  <meta itemprop="image" content="https://rasa.com/assets/img/facebook-og.png">
  <meta property="og:title" content="Rasa Open Source Change Log" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://rasa.com/assets/img/facebook-og.png" />
  <meta property="og:url" content="https://rasa.com/docs/rasa/changelog" />
  
    <meta name="description" content="Rasa Open Source Changelog" />
    <meta itemprop="description" content="Rasa Open Source Changelog">
    <meta name="twitter:description" content="Rasa Open Source Changelog" />
    <meta property="og:description" content="Rasa Open Source Changelog" />
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@Rasa_HQ">
  <meta name="twitter:title" content="Rasa Open Source Change Log">
  <meta name="twitter:creator" content="@Rasa_HQ">
  <meta name="twitter:image" content="https://rasa.com/assets/img/facebook-og.png">

  <link rel="stylesheet" href="../_static/xq-light.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/fontawesome/css/fontawesome-all.css" type="text/css" />
  <link rel="stylesheet" type="text/css" href="https://rasa.com/assets/css/klaro.css">
  <script defer type="text/javascript" src="https://rasa.com/assets/js/klaro_config.js"></script>
  <script defer type="text/javascript" src="https://rasa.com/assets/js/klaro.js"></script>
  <script defer type="text/javascript" src="../_static/ace/src-min-noconflict/ace.js"></script>
  <script defer type="text/javascript" src="../_static/chatblock/rasa-chatblock.min.js"></script>
  <script type="text/javascript" src="https://storage.googleapis.com/docs-theme/clipboard.min.js"></script>
  
    <link rel="icon" sizes="192x192" href="../_static/icon-192x192.png">
    <link rel="apple-touch-icon" href="../_static/icon-192x192.png" />
  
  
    
      <link rel="canonical" href="https://rasa.com/docs/rasa/changelog/"/>
    
  


  </head><body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe data-name="analytics" data-src="https://www.googletagmanager.com/ns.html?id=GTM-MMHSZCS" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="announce-bar" role="banner">
  These docs are for version 1.x of Rasa Open Source.
  <a href="https://rasa.com/docs/rasa/">Docs for the new version 2.0 can be found here.</a>
</div>

<div class="nav-top">
  <div class="nav-container">
    <ul class="main-nav nav">
      <li>
      <a href="https://rasa.com/docs/" class="brand-link">
          <img src="../_static/rasa_logo.svg" width="80px" height="40px" title="Rasa logo" alt="Rasa logo">
    	    <span class="logo extension">docs</span>
    	</a>
      </li>
    </ul>
    <ul class="secondary-nav nav">
      <li>
        <a href="https://github.com/rasaHQ/" target="_blank"><button class="button btn-ghost white"> <i class="fab fa-github"></i>GitHub</button></a>
      </li>
      <li>
        <a href="https://forum.rasa.com" target="_blank"><button class="button"><i class="fas fa-comments"></i> Ask the Community</button></a>
      </li>
    </ul>
  </div>
</div>

  
    
      <div class="sidebar-extended"></div>
    
  

  
    
      <div class="document">
    
  

    
      
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/installation/">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/rasa-tutorial/">Tutorial: Rasa Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/building-assistants/">Tutorial: Building Assistants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/command-line-interface/">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/messaging-and-voice-channels/">Messaging and Voice Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/testing-your-assistant/">Testing Your Assistant</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/setting-up-ci-cd/">Setting up CI/CD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/validate-files/">Validate Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/configuring-http-api/">Configuring the HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/how-to-deploy/">Deploying Your Rasa Assistant</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/cloud-storage/">Cloud Storage</a></li>
</ul>
<p class="caption"><span class="caption-text">NLU</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../nlu/about/">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlu/using-nlu-only/">Using NLU Only</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlu/training-data-format/">Training Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlu/language-support/">Language Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlu/choosing-a-pipeline/">Choosing a Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlu/components/">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlu/entity-extraction/">Entity Extraction</a></li>
</ul>
<p class="caption"><span class="caption-text">Core</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core/about/">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/stories/">Stories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/domains/">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/responses/">Responses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/actions/">Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/reminders-and-external-events/">Reminders and External Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/policies/">Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/slots/">Slots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/forms/">Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/retrieval-actions/">Retrieval Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/interactive-learning/">Interactive Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/fallback-actions/">Fallback Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/knowledge-bases/">Knowledge Base Actions</a></li>
</ul>
<p class="caption"><span class="caption-text">Conversation Design</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dialogue-elements/dialogue-elements/">Dialogue Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dialogue-elements/small-talk/">Small Talk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dialogue-elements/completing-tasks/">Completing Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dialogue-elements/guiding-users/">Guiding Users</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../api/action-server/">Action Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/http-api/">HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/jupyter-notebooks/">Jupyter Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/agent/">Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/custom-nlu-components/">Custom NLU Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/rasa-sdk/">Rasa SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/events/">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/tracker/">Tracker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/tracker-stores/">Tracker Stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/event-brokers/">Event Brokers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/lock-stores/">Lock Stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/training-data-importers/">Training Data Importers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/core-featurization/">Featurization of Conversations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/tensorflow_usage/">TensorFlow Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration-guide/">Migration Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Rasa Open Source Change Log</a></li>
</ul>
<p class="caption"><span class="caption-text">Migrate from (beta)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../migrate-from/google-dialogflow-to-rasa/">Dialogflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrate-from/facebook-wit-ai-to-rasa/">Wit.ai</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrate-from/microsoft-luis-to-rasa/">LUIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrate-from/ibm-watson-to-rasa/">IBM Watson</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary/">Glossary</a></li>
</ul>

<div class="versions">
    <p class="caption">Versions</p>
    <div class="versions-content">
      <div>
        <span class="current-version">
          viewing: 1.10.10
        </span>
      </div>
      <div class="other-versions">
          <p>tags</p>
          <div class="dropdown-content">
              <a href="../../1.10.20/changelog/">1.10.20</a>
              <a href="../../1.10.19/changelog/">1.10.19</a>
              <a href="../../1.10.18/changelog/">1.10.18</a>
              <a href="../../1.10.17/changelog/">1.10.17</a>
              <a href="../../1.10.16/changelog/">1.10.16</a>
              <a href="../../1.10.15/changelog/">1.10.15</a>
              <a href="../../1.10.14/changelog/">1.10.14</a>
              <a href="../../1.10.13/changelog/">1.10.13</a>
              <a href="../../1.10.12/changelog/">1.10.12</a>
              <a href="../../1.10.11/changelog/">1.10.11</a>
              <a href="../../1.10.10/changelog/">1.10.10</a>
              <a href="../../1.10.9/changelog/">1.10.9</a>
              <a href="../../1.10.8/changelog/">1.10.8</a>
              <a href="../../1.10.7/changelog/">1.10.7</a>
              <a href="../../1.10.6/changelog/">1.10.6</a>
              <a href="../../1.10.5/changelog/">1.10.5</a>
              <a href="../../1.10.4/changelog/">1.10.4</a>
              <a href="../../1.10.3/changelog/">1.10.3</a>
              <a href="../../1.10.2/changelog/">1.10.2</a>
              <a href="../../1.10.1/changelog/">1.10.1</a>
              <a href="../../1.10.0/changelog/">1.10.0</a>
              <a href="../../1.9.7/changelog/">1.9.7</a>
              <a href="../../1.9.6/changelog/">1.9.6</a>
              <a href="../../1.9.5/changelog/">1.9.5</a>
              <a href="../../1.9.4/changelog/">1.9.4</a>
              <a href="../../1.9.3/changelog/">1.9.3</a>
              <a href="../../1.9.2/changelog/">1.9.2</a>
              <a href="../../1.9.1/changelog/">1.9.1</a>
              <a href="../../1.9.0/changelog/">1.9.0</a>
              <a href="../../1.8.3/changelog/">1.8.3</a>
              <a href="../../1.8.2/changelog/">1.8.2</a>
              <a href="../../1.8.1/changelog/">1.8.1</a>
              <a href="../../1.8.0/changelog/">1.8.0</a>
              <a href="../../1.7.4/changelog/">1.7.4</a>
              <a href="../../1.7.3/changelog/">1.7.3</a>
              <a href="../../1.7.2/changelog/">1.7.2</a>
              <a href="../../1.7.1/changelog/">1.7.1</a>
              <a href="../../1.7.0/changelog/">1.7.0</a>
              <a href="../../1.6.2/changelog/">1.6.2</a>
              <a href="../../1.5.3/changelog/">1.5.3</a>
              <a href="../../1.4.6/changelog/">1.4.6</a>
              <a href="../../1.3.10/changelog/">1.3.10</a>
              <a href="../../1.2.9/changelog/">1.2.9</a>
          </div>
      </div>
    </div>
</div>


        </div>
      </div>
      
    
      
        
      
        <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  


    
    



    <p class="scv-banner"><a href="../../1.10.20/changelog/"><b>Warning:</b> This document is for an old version of Rasa. The latest version is 1.10.20.</a></p>
<div class="section" id="rasa-open-source-change-log">
<h1>Rasa Open Source Change Log<a class="headerlink" href="#rasa-open-source-change-log" title="Permalink to this headline">¶</a></h1>
<p>All notable changes to this project will be documented in this file.
This project adheres to <a class="reference external" href="http://semver.org/">Semantic Versioning</a> starting with version 1.0.</p>
<div class="section" id="id1">
<h2>[1.10.10] - 2020-08-04<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bugfixes">
<h3>Bugfixes<a class="headerlink" href="#bugfixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6280">#6280</a>: Fixed <code class="docutils literal notranslate"><span class="pre">TypeError:</span> <span class="pre">expected</span> <span class="pre">string</span> <span class="pre">or</span> <span class="pre">bytes-like</span> <span class="pre">object</span></code>
issue caused by integer, boolean, and null values in templates.</p></li>
</ul>
</div>
</div>
<div class="section" id="id3">
<h2>[1.10.9] - 2020-07-29<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6255">#6255</a>: Rasa Open Source will no longer add <code class="docutils literal notranslate"><span class="pre">responses</span></code> to the <code class="docutils literal notranslate"><span class="pre">actions</span></code> section of the
domain when persisting the domain as a file. This addresses related problems in Rasa X
when Integrated Version Control introduced big diffs due to the added utterances
in the <code class="docutils literal notranslate"><span class="pre">actions</span></code> section.</p></li>
</ul>
</div>
<div class="section" id="id5">
<h3>Bugfixes<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6160">#6160</a>: Consider entity roles/groups during interactive learning.</p></li>
</ul>
</div>
</div>
<div class="section" id="id7">
<h2>[1.10.8] - 2020-07-15<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id8">
<h3>Bugfixes<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6075">#6075</a>: Add ‘Access-Control-Expose-Headers’ for ‘filename’ header</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6137">#6137</a>: Fixed a bug where an invalid language variable prevents rasa from finding training examples when importing Dialogflow data.</p></li>
</ul>
</div>
</div>
<div class="section" id="id11">
<h2>[1.10.7] - 2020-07-07<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<div class="section" id="features">
<h3>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6150">#6150</a>: Add <code class="docutils literal notranslate"><span class="pre">not_supported_language_list</span></code> to component to be able to define languages that a component can NOT handle.</p>
<p><code class="docutils literal notranslate"><span class="pre">WhitespaceTokenizer</span></code> is not able to process languages which are not separated by whitespace. <code class="docutils literal notranslate"><span class="pre">WhitespaceTokenizer</span></code>
will throw an error if it is used with Chinese, Japanese, and Thai.</p>
</li>
</ul>
</div>
<div class="section" id="id13">
<h3>Bugfixes<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6150">#6150</a>: <code class="docutils literal notranslate"><span class="pre">WhitespaceTokenizer</span></code> only removes emoji if complete token matches emoji regex.</p></li>
</ul>
</div>
</div>
<div class="section" id="id15">
<h2>[1.10.6] - 2020-07-06<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id16">
<h3>Bugfixes<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6143">#6143</a>: Prevent <code class="docutils literal notranslate"><span class="pre">WhitespaceTokenizer</span></code> from outputting empty list of tokens.</p></li>
</ul>
</div>
</div>
<div class="section" id="id18">
<h2>[1.10.5] - 2020-07-02<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id19">
<h3>Bugfixes<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6119">#6119</a>: Explicitly remove all emojis which appear as unicode characters from the output of <code class="docutils literal notranslate"><span class="pre">regex.sub</span></code> inside <code class="docutils literal notranslate"><span class="pre">WhitespaceTokenizer</span></code>.</p></li>
</ul>
</div>
</div>
<div class="section" id="id21">
<h2>[1.10.4] - 2020-07-01<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id22">
<h3>Bugfixes<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5998">#5998</a>: <code class="docutils literal notranslate"><span class="pre">WhitespaceTokenizer</span></code> does not remove vowel signs in Hindi anymore.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6031">#6031</a>: Previously, specifying a lock store in the endpoint configuration with a type other than <code class="docutils literal notranslate"><span class="pre">redis</span></code> or <code class="docutils literal notranslate"><span class="pre">in_memory</span></code>
would lead to an <code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">'str'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'type'</span></code>. This bug is fixed now.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6032">#6032</a>: Fix <code class="docutils literal notranslate"><span class="pre">Interpreter</span> <span class="pre">parsed</span> <span class="pre">an</span> <span class="pre">intent</span> <span class="pre">...</span></code> warning when using the <code class="docutils literal notranslate"><span class="pre">/model/parse</span></code>
endpoint with an NLU-only model.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6042">#6042</a>: Convert entity values coming from any entity extractor to string during evaluation to avoid mismatches due to
different types.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/6078">#6078</a>: The assistant will respond through the <cite>webex</cite> channel to any user (room) communicating to it. Before the bot responded only to a fixed <code class="docutils literal notranslate"><span class="pre">roomId</span></code> set in the <code class="docutils literal notranslate"><span class="pre">credentials.yml</span></code> config file.</p></li>
</ul>
</div>
</div>
<div class="section" id="id28">
<h2>[1.10.3] - 2020-06-12<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id29">
<h3>Improvements<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/3900">#3900</a>: Reduced duplicate logs and warnings when running <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">train</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id31">
<h3>Bugfixes<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5972">#5972</a>: Remove the <code class="docutils literal notranslate"><span class="pre">clean_up_entities</span></code> method from the <code class="docutils literal notranslate"><span class="pre">DIETClassifier</span></code> and <code class="docutils literal notranslate"><span class="pre">CRFEntityExtractor</span></code> as it let to incorrect
entity predictions.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5976">#5976</a>: Fix server crashes that occurred when Rasa Open Source pulls a model from a
<a class="reference internal" href="../user-guide/configuring-http-api/#server-fetch-from-server"><span class="std std-ref">model server</span></a> and an exception was thrown during
model loading (such as a domain with invalid YAML).</p></li>
</ul>
</div>
</div>
<div class="section" id="id34">
<h2>[1.10.2] - 2020-06-03<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id35">
<h3>Bugfixes<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5521">#5521</a>: Responses used in ResponseSelector now support new lines with explicitly adding <code class="docutils literal notranslate"><span class="pre">\n</span></code> between them.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5758">#5758</a>: Fixed a bug in <a class="reference external" href="https://rasa.com/docs/rasa-x/installation-and-setup/deploy#connect-rasa-deployment">rasa export</a> (<a class="reference internal" href="../user-guide/command-line-interface/#section-export"><span class="std std-ref">Export Conversations to an Event Broker</span></a>) which caused Rasa Open Source to only migrate conversation events from the last <a class="reference internal" href="../core/domains/#session-config"><span class="std std-ref">Session configuration</span></a>.</p></li>
</ul>
</div>
</div>
<div class="section" id="id38">
<h2>[1.10.1] - 2020-05-15<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id39">
<h3>Improvements<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5794">#5794</a>: Creating a <code class="docutils literal notranslate"><span class="pre">Domain</span></code> using <code class="docutils literal notranslate"><span class="pre">Domain.fromDict</span></code> can no longer alter the input dictionary.
Previously, there could be problems when the input dictionary was re-used for other
things after creating the <code class="docutils literal notranslate"><span class="pre">Domain</span></code> from it.</p></li>
</ul>
</div>
<div class="section" id="id41">
<h3>Bugfixes<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5617">#5617</a>: Don’t create TensorBoard log files during prediction.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5638">#5638</a>: Fix: DIET breaks with empty spaCy model</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5755">#5755</a>: Remove <code class="docutils literal notranslate"><span class="pre">clean_up_entities</span></code> from extractors that extract pre-defined entities.
Just keep the clean up method for entity extractors that extract custom entities.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5792">#5792</a>: Fixed issue where the <code class="docutils literal notranslate"><span class="pre">DucklingHTTPExtractor</span></code> component would
not work if its <cite>url</cite> contained a trailing slash.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5825">#5825</a>: Fix list index out of range error in <code class="docutils literal notranslate"><span class="pre">ensure_consistent_bilou_tagging</span></code>.</p></li>
</ul>
</div>
<div class="section" id="miscellaneous-internal-changes">
<h3>Miscellaneous internal changes<a class="headerlink" href="#miscellaneous-internal-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>#5788</p></li>
</ul>
</div>
</div>
<div class="section" id="id47">
<h2>[1.10.0] - 2020-04-28<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id48">
<h3>Features<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/3765">#3765</a>: Add support for entities with roles and grouping of entities in Rasa NLU.</p>
<p>You can now define a role and/or group label in addition to the entity type for entities.
Use the role label if an entity can play different roles in your assistant.
For example, a city can be a destination or a departure city.
The group label can be used to group multiple entities together.
For example, you could group different pizza orders, so that you know what toppings goes with which pizza and
what size which pizza has.
For more details see <a class="reference internal" href="../nlu/entity-extraction/#entities-roles-groups"><span class="std std-ref">Entities Roles and Groups</span></a>.</p>
<p>To fill slots from entities with a specific role/group, you need to either use forms or use a custom action.
We updated the tracker method <code class="docutils literal notranslate"><span class="pre">get_latest_entity_values</span></code> to take an optional role/group label.
If you want to use a form, you can add the specific role/group label of interest to the slot mapping function
<code class="docutils literal notranslate"><span class="pre">from_entity</span></code> (see <a class="reference internal" href="../core/forms/#forms"><span class="std std-ref">Forms</span></a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Composite entities are currently just supported by the <a class="reference internal" href="../nlu/components/#diet-classifier"><span class="std std-ref">DIETClassifier</span></a> and <a class="reference internal" href="../nlu/components/#crfentityextractor"><span class="std std-ref">CRFEntityExtractor</span></a>.</p>
</div>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5465">#5465</a>: Update training data format for NLU to support entities with a role or group label.</p>
<p>You can now specify synonyms, roles, and groups of entities using the following data format:
Markdown:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[LA]{&quot;entity&quot;: &quot;location&quot;, &quot;role&quot;: &quot;city&quot;, &quot;group&quot;: &quot;CA&quot;, &quot;value&quot;: &quot;Los Angeles&quot;}
</pre></div>
</div>
<p>JSON:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;entities&quot;: [
    {
        &quot;start&quot;: 10,
        &quot;end&quot;: 12,
        &quot;value&quot;: &quot;Los Angeles&quot;,
        &quot;entity&quot;: &quot;location&quot;,
        &quot;role&quot;: &quot;city&quot;,
        &quot;group&quot;: &quot;CA&quot;,
    }
]
</pre></div>
</div>
<p>The markdown format <code class="docutils literal notranslate"><span class="pre">[LA](location:Los</span> <span class="pre">Angeles)</span></code> is deprecated. To update your training data file just
execute the following command on the terminal of your choice:
<code class="docutils literal notranslate"><span class="pre">sed</span> <span class="pre">-i</span> <span class="pre">-E</span> <span class="pre">'s/\[([^)]+)\]\(([^)]+):([^)]+)\)/[\1]{&quot;entity&quot;:</span> <span class="pre">&quot;\2&quot;,</span> <span class="pre">&quot;value&quot;:</span> <span class="pre">&quot;\3&quot;}/g'</span> <span class="pre">nlu.md</span></code></p>
<p>For more information about the new data format see <a class="reference internal" href="../nlu/training-data-format/#training-data-format"><span class="std std-ref">Training Data Format</span></a>.</p>
</li>
</ul>
</div>
<div class="section" id="id51">
<h3>Improvements<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/2224">#2224</a>: Suppressed <code class="docutils literal notranslate"><span class="pre">pika</span></code> logs when establishing the connection. These log messages
mostly happened when Rasa X and RabbitMQ were started at the same time. Since RabbitMQ
can take a few seconds to initialize, Rasa X has to re-try until the connection is
established.
In case you suspect a different problem (such as failing authentication) you can
re-enable the <code class="docutils literal notranslate"><span class="pre">pika</span></code> logs by setting the log level to <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>. To run Rasa Open
Source in debug mode, use the <code class="docutils literal notranslate"><span class="pre">--debug</span></code> flag. To run Rasa X in debug mode, set the
environment variable <code class="docutils literal notranslate"><span class="pre">DEBUG_MODE</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/3419">#3419</a>: Include the source filename of a story in the failed stories</p>
<p>Include the source filename of a story in the failed stories to make it easier to identify the file which contains the failed story.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5544">#5544</a>: Add confusion matrix and “confused_with” to response selection evaluation</p>
<p>If you are using ResponseSelectors, they now produce similiar outputs during NLU evaluation. Misclassfied responses are listed in a “confused_with” attribute in the evaluation report. Similiarily, a confusion matrix of all responses is plotted.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5578">#5578</a>: Added <code class="docutils literal notranslate"><span class="pre">socketio</span></code> to the compatible channels for <a class="reference internal" href="../core/reminders-and-external-events/#reminders-and-external-events"><span class="std std-ref">Reminders and External Events</span></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5595">#5595</a>: Update <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/model/train</span></code> endpoint to accept retrieval action responses
at the <code class="docutils literal notranslate"><span class="pre">responses</span></code> key of the JSON payload.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5627">#5627</a>: All Rasa Open Source images are now using Python 3.7 instead of Python 3.6.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5635">#5635</a>: Update dependencies based on the <code class="docutils literal notranslate"><span class="pre">dependabot</span></code> check.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5636">#5636</a>: Add dropout between <code class="docutils literal notranslate"><span class="pre">FFNN</span></code> and <code class="docutils literal notranslate"><span class="pre">DenseForSparse</span></code> layers in <code class="docutils literal notranslate"><span class="pre">DIETClassifier</span></code>,
<code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> and <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code> controlled by <code class="docutils literal notranslate"><span class="pre">use_dense_input_dropout</span></code> config parameter.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5646">#5646</a>: <code class="docutils literal notranslate"><span class="pre">DIETClassifier</span></code> only counts as extractor in <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span></code> if it was actually trained for entity recognition.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5669">#5669</a>: Remove regularization gradient for variables that don’t have prediction gradient.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5672">#5672</a>: Raise a warning in <code class="docutils literal notranslate"><span class="pre">CRFEntityExtractor</span></code> and <code class="docutils literal notranslate"><span class="pre">DIETClassifier</span></code> if entities are not correctly annotated in the
training data, e.g. their start and end values do not match any start and end values of tokens.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5690">#5690</a>: Add <code class="docutils literal notranslate"><span class="pre">full_retrieval_intent</span></code> property to <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> rankings</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5717">#5717</a>: Change default values for hyper-parameters in <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code> and <code class="docutils literal notranslate"><span class="pre">DIETClassifier</span></code></p>
<p>Use <code class="docutils literal notranslate"><span class="pre">scale_loss=False</span></code> in <code class="docutils literal notranslate"><span class="pre">DIETClassifier</span></code>. Reduce the number of dense dimensions for sparse features of text from 512 to 256 in <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="id65">
<h3>Bugfixes<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5230">#5230</a>: Fixed issue where posting to certain callback channel URLs would return a 500 error on successful posts due to invalid response format.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5475">#5475</a>: One word can just have one entity label.</p>
<p>If you are using, for example, <code class="docutils literal notranslate"><span class="pre">ConveRTTokenizer</span></code> words can be split into multiple tokens.
Our entity extractors assign entity labels per token. So, it might happen, that a word, that was split into two tokens,
got assigned two different entity labels. This is now fixed. One word can just have one entity label at a time.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5509">#5509</a>: An entity label should always cover a complete word.</p>
<p>If you are using, for example, <code class="docutils literal notranslate"><span class="pre">ConveRTTokenizer</span></code> words can be split into multiple tokens.
Our entity extractors assign entity labels per token. So, it might happen, that just a part of a word has
an entity label. This is now fixed. An entity label always covers a complete word.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5574">#5574</a>: Fixed an issue that happened when metadata is passed in a new session.</p>
<p>Now the metadata is correctly passed to the ActionSessionStart.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5672">#5672</a>: Updated Python dependency <code class="docutils literal notranslate"><span class="pre">ruamel.yaml</span></code> to <code class="docutils literal notranslate"><span class="pre">&gt;=0.16</span></code>. We recommend to use at least
<code class="docutils literal notranslate"><span class="pre">0.16.10</span></code> due to the security issue
<a class="reference external" href="https://nvd.nist.gov/vuln/detail/CVE-2019-20478">CVE-2019-20478</a> which is present in
in prior versions.</p></li>
</ul>
</div>
<div class="section" id="id71">
<h3>Miscellaneous internal changes<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>#5556, #5587, #5614, #5631, #5633</p></li>
</ul>
</div>
</div>
<div class="section" id="id72">
<h2>[1.9.7] - 2020-04-23<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id73">
<h3>Improvements<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4606">#4606</a>: The stream reading timeout for <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">shell`</span> <span class="pre">is</span> <span class="pre">now</span> <span class="pre">configurable</span> <span class="pre">by</span> <span class="pre">using</span> <span class="pre">the</span>
<span class="pre">environment</span> <span class="pre">variable</span> <span class="pre">``RASA_SHELL_STREAM_READING_TIMEOUT_IN_SECONDS</span></code>.
This can help to fix problems when using <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">shell</span></code> with custom actions which run
10 seconds or longer.</p></li>
</ul>
</div>
<div class="section" id="id75">
<h3>Bugfixes<a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5709">#5709</a>: Reverted changes in 1.9.6 that led to model incompatibility. Upgrade to 1.9.7 to fix
<code class="docutils literal notranslate"><span class="pre">self.sequence_lengths_for(tf_batch_data[TEXT_SEQ_LENGTH][0])</span> <span class="pre">IndexError:</span> <span class="pre">list</span> <span class="pre">index</span> <span class="pre">out</span> <span class="pre">of</span> <span class="pre">range</span></code>
error without needing to retrain earlier 1.9 models.</p>
<p>Therefore, all 1.9 models <cite>except for 1.9.6</cite> will be compatible; a model trained on 1.9.6 will need
to be retrained on 1.9.7.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id77">
<h2>[1.9.6] - 2020-04-15<a class="headerlink" href="#id77" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id78">
<h3>Bugfixes<a class="headerlink" href="#id78" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5426">#5426</a>: Fix <cite>rasa test nlu</cite> plotting when using multiple runs.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5489">#5489</a>: Fixed issue where <code class="docutils literal notranslate"><span class="pre">max_number_of_predictions</span></code> was not considered when running end-to-end testing.</p></li>
</ul>
</div>
<div class="section" id="id81">
<h3>Miscellaneous internal changes<a class="headerlink" href="#id81" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>#5626</p></li>
</ul>
</div>
</div>
<div class="section" id="id82">
<h2>[1.9.5] - 2020-04-01<a class="headerlink" href="#id82" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id83">
<h3>Improvements<a class="headerlink" href="#id83" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5533">#5533</a>: Support for
<a class="reference external" href="https://www.postgresql.org/docs/11/ddl-schemas.html">PostgreSQL schemas</a> in
<a class="reference internal" href="../api/tracker-stores/#sql-tracker-store"><span class="std std-ref">SQLTrackerStore</span></a>. The <code class="docutils literal notranslate"><span class="pre">SQLTrackerStore</span></code>
accesses schemas defined by the <code class="docutils literal notranslate"><span class="pre">POSTGRESQL_SCHEMA</span></code> environment variable if
connected to a PostgreSQL database.</p>
<p>The schema is added to the connection string option’s <code class="docutils literal notranslate"><span class="pre">-csearch_path</span></code> key, e.g.
<code class="docutils literal notranslate"><span class="pre">-options=-csearch_path=&lt;SCHEMA_NAME&gt;</span></code> (see
<a class="reference external" href="https://www.postgresql.org/docs/11/contrib-dblink-connect.html">https://www.postgresql.org/docs/11/contrib-dblink-connect.html</a> for more details).
As before, if no <code class="docutils literal notranslate"><span class="pre">POSTGRESQL_SCHEMA</span></code> is defined, Rasa uses the database’s default
schema (<code class="docutils literal notranslate"><span class="pre">public</span></code>).</p>
<p>The schema has to exist in the database before connecting, i.e. it needs to have been
created with</p>
<div class="highlight-postgresql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">schema_name</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id85">
<h3>Bugfixes<a class="headerlink" href="#id85" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5547">#5547</a>: Fixed ambiguous logging in <code class="docutils literal notranslate"><span class="pre">DIETClassifier</span></code> by adding the name of the calling class to the log message.</p></li>
</ul>
</div>
</div>
<div class="section" id="id87">
<h2>[1.9.4] - 2020-03-30<a class="headerlink" href="#id87" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id88">
<h3>Bugfixes<a class="headerlink" href="#id88" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5529">#5529</a>: Fix memory leak problem on increasing number of calls to <code class="docutils literal notranslate"><span class="pre">/model/parse</span></code> endpoint.</p></li>
</ul>
</div>
</div>
<div class="section" id="id90">
<h2>[1.9.3] - 2020-03-27<a class="headerlink" href="#id90" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id91">
<h3>Bugfixes<a class="headerlink" href="#id91" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5505">#5505</a>: Set default value for <code class="docutils literal notranslate"><span class="pre">weight_sparsity</span></code> in <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code>.
This fixes a bug in the default behaviour of <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> which was accidentally introduced in <code class="docutils literal notranslate"><span class="pre">rasa==1.8.0</span></code>.
Users should update to this version and re-train their models if <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> was used in their pipeline.</p></li>
</ul>
</div>
</div>
<div class="section" id="id93">
<h2>[1.9.2] - 2020-03-26<a class="headerlink" href="#id93" title="Permalink to this headline">¶</a></h2>
<div class="section" id="improved-documentation">
<h3>Improved Documentation<a class="headerlink" href="#improved-documentation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/RasaHQ/rasa/pull/5497">#5497</a>: Fix documentation to bring back Sara.</p></li>
</ul>
</div>
</div>
<div class="section" id="id95">
<h2>[1.9.1] - 2020-03-25<a class="headerlink" href="#id95" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id96">
<h3>Bugfixes<a class="headerlink" href="#id96" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5492">#5492</a>: Fix an issue where the deprecated <code class="docutils literal notranslate"><span class="pre">queue</span></code> parameter for the <a class="reference internal" href="../api/event-brokers/#event-brokers-pika"><span class="std std-ref">Pika Event Broker</span></a>
was ignored and Rasa Open Source published the events to the <code class="docutils literal notranslate"><span class="pre">rasa_core_events</span></code>
queue instead. Note that this does not change the fact that the <code class="docutils literal notranslate"><span class="pre">queue</span></code> argument
is deprecated in favor of the <code class="docutils literal notranslate"><span class="pre">queues</span></code> argument.</p></li>
</ul>
</div>
</div>
<div class="section" id="id98">
<h2>[1.9.0] - 2020-03-24<a class="headerlink" href="#id98" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id99">
<h3>Features<a class="headerlink" href="#id99" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5006">#5006</a>: Channel <code class="docutils literal notranslate"><span class="pre">hangouts</span></code> for Rasa integration with Google Hangouts Chat is now supported out-of-the-box.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5389">#5389</a>: Add an optional path to a specific directory to download and cache the pre-trained model weights for <a class="reference internal" href="../nlu/components/#hftransformersnlp"><span class="std std-ref">HFTransformersNLP</span></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5422">#5422</a>: Add options <code class="docutils literal notranslate"><span class="pre">tensorboard_log_directory</span></code> and <code class="docutils literal notranslate"><span class="pre">tensorboard_log_level</span></code> to <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code>,
<code class="docutils literal notranslate"><span class="pre">DIETClasifier</span></code>, <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code>, <code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code> and <code class="docutils literal notranslate"><span class="pre">TEDPolicy</span></code>.</p>
<p>By default <code class="docutils literal notranslate"><span class="pre">tensorboard_log_directory</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>. If a valid directory is provided,
metrics are written during training. After the model is trained you can take a look
at the training metrics in tensorboard. Execute <code class="docutils literal notranslate"><span class="pre">tensorboard</span> <span class="pre">--logdir</span> <span class="pre">&lt;path-to-given-directory&gt;</span></code>.</p>
<p>Metrics can either be written after every epoch (default) or for every training step.
You can specify when to write metrics using the variable <code class="docutils literal notranslate"><span class="pre">tensorboard_log_level</span></code>.
Valid values are ‘epoch’ and ‘minibatch’.</p>
<p>We also write down a model summary, i.e. layers with inputs and types, to the given directory.</p>
</li>
</ul>
</div>
<div class="section" id="id103">
<h3>Improvements<a class="headerlink" href="#id103" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4756">#4756</a>: Make response timeout configurable.
<code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">run</span></code>, <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">shell</span></code> and <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">x</span></code> can now be started with
<code class="docutils literal notranslate"><span class="pre">--response-timeout</span> <span class="pre">&lt;int&gt;</span></code> to configure a response timeout of <code class="docutils literal notranslate"><span class="pre">&lt;int&gt;</span></code> seconds.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4826">#4826</a>: Add full retrieval intent name to message data
<code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> will now add the full retrieval intent name
e.g. <code class="docutils literal notranslate"><span class="pre">faq/which_version</span></code> to the prediction, making it accessible
from the tracker.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5258">#5258</a>: Added <code class="docutils literal notranslate"><span class="pre">PikaEventBroker</span></code> (<a class="reference internal" href="../api/event-brokers/#event-brokers-pika"><span class="std std-ref">Pika Event Broker</span></a>) support for publishing to
multiple queues. Messages are now published to a <code class="docutils literal notranslate"><span class="pre">fanout</span></code> exchange with name
<code class="docutils literal notranslate"><span class="pre">rasa-exchange</span></code> (see
<a class="reference external" href="https://www.rabbitmq.com/tutorials/amqp-concepts.html#exchange-fanout">exchange-fanout</a>
for more information on <code class="docutils literal notranslate"><span class="pre">fanout</span></code> exchanges).</p>
<p>The former <code class="docutils literal notranslate"><span class="pre">queue</span></code> key is deprecated. Queues should now be
specified as a list in the <code class="docutils literal notranslate"><span class="pre">endpoints.yml</span></code> event broker config under a new key
<code class="docutils literal notranslate"><span class="pre">queues</span></code>. Example config:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">event_broker</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pika</span>
  <span class="nt">url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost</span>
  <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">username</span>
  <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">password</span>
  <span class="nt">queues</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">queue-1</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">queue-2</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">queue-3</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5416">#5416</a>: Change <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">init</span></code> to include <code class="docutils literal notranslate"><span class="pre">tests/conversation_tests.md</span></code> file by default.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5446">#5446</a>: The endpoint <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/conversations/&lt;conversation_id&gt;/tracker/events</span></code> no longer
adds session start events (to learn more about conversation sessions, please
see <a class="reference internal" href="../core/domains/#session-config"><span class="std std-ref">Session configuration</span></a>) in addition to the events which were sent in the request
payload. To achieve the old behavior send a
<code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/conversations/&lt;conversation_id&gt;/tracker</span></code>
request before appending events.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5482">#5482</a>: Make <code class="docutils literal notranslate"><span class="pre">scale_loss</span></code> for intents behave the same way as in versions below <code class="docutils literal notranslate"><span class="pre">1.8</span></code>, but
only scale if some of the examples in a batch has probability of the golden label more than <code class="docutils literal notranslate"><span class="pre">0.5</span></code>.
Introduce <code class="docutils literal notranslate"><span class="pre">scale_loss</span></code> for entities in <code class="docutils literal notranslate"><span class="pre">DIETClassifier</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id110">
<h3>Bugfixes<a class="headerlink" href="#id110" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5205">#5205</a>: Fixed the bug when FormPolicy was overwriting MappingPolicy prediction (e.g. <code class="docutils literal notranslate"><span class="pre">/restart</span></code>).
Priorities for <a class="reference internal" href="../core/policies/#mapping-policy"><span class="std std-ref">Mapping Policy</span></a> and <a class="reference internal" href="../core/policies/#form-policy"><span class="std std-ref">Form Policy</span></a> are no longer linear:
<code class="docutils literal notranslate"><span class="pre">FormPolicy</span></code> priority is 5, but its prediction is ignored if <code class="docutils literal notranslate"><span class="pre">MappingPolicy</span></code> is used for prediction.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5215">#5215</a>: Fixed issue related to storing Python <code class="docutils literal notranslate"><span class="pre">float</span></code> values as <code class="docutils literal notranslate"><span class="pre">decimal.Decimal</span></code> objects
in DynamoDB tracker stores. All <code class="docutils literal notranslate"><span class="pre">decimal.Decimal</span></code> objects are now converted to
<code class="docutils literal notranslate"><span class="pre">float</span></code> on tracker retrieval.</p>
<p>Added a new docs section on <a class="reference internal" href="../api/tracker-stores/#tracker-stores-dynamo"><span class="std std-ref">DynamoTrackerStore</span></a>.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5356">#5356</a>: Fixed bug where <code class="docutils literal notranslate"><span class="pre">FallbackPolicy</span></code> would always fall back if the fallback action is
<code class="docutils literal notranslate"><span class="pre">action_listen</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5361">#5361</a>: Fixed bug where starting or ending a response with <code class="docutils literal notranslate"><span class="pre">\n\n</span></code> led to one of the responses returned being empty.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5405">#5405</a>: Fixes issue where model always gets retrained if multiple NLU/story files are in a
directory, by sorting the list of files.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5444">#5444</a>: Fixed ambiguous logging in <cite>DIETClassifier</cite> by adding the name of the calling class to the log message.</p></li>
</ul>
</div>
<div class="section" id="id117">
<h3>Improved Documentation<a class="headerlink" href="#id117" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/2237">#2237</a>: Restructure the “Evaluating models” documentation page and rename this page to <a class="reference internal" href="../user-guide/testing-your-assistant/#testing-your-assistant"><span class="std std-ref">Testing Your Assistant</span></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5302">#5302</a>: Improved documentation on how to build and deploy an action server image for use on other servers such as Rasa X deployments.</p></li>
</ul>
</div>
<div class="section" id="id120">
<h3>Miscellaneous internal changes<a class="headerlink" href="#id120" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>#5340</p></li>
</ul>
</div>
</div>
<div class="section" id="id121">
<h2>[1.8.3] - 2020-03-27<a class="headerlink" href="#id121" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id122">
<h3>Bugfixes<a class="headerlink" href="#id122" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5405">#5405</a>: Fixes issue where model always gets retrained if multiple NLU/story files are in a
directory, by sorting the list of files.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5444">#5444</a>: Fixed ambiguous logging in <cite>DIETClassifier</cite> by adding the name of the calling class to the log message.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5506">#5506</a>: Set default value for <code class="docutils literal notranslate"><span class="pre">weight_sparsity</span></code> in <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code>.
This fixes a bug in the default behaviour of <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> which was accidentally introduced in <code class="docutils literal notranslate"><span class="pre">rasa==1.8.0</span></code>.
Users should update to this version or <code class="docutils literal notranslate"><span class="pre">rasa&gt;=1.9.3</span></code> and re-train their models if <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> was used in their pipeline.</p></li>
</ul>
</div>
<div class="section" id="id126">
<h3>Improved Documentation<a class="headerlink" href="#id126" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5302">#5302</a>: Improved documentation on how to build and deploy an action server image for use on other servers such as Rasa X deployments.</p></li>
</ul>
</div>
</div>
<div class="section" id="id128">
<h2>[1.8.2] - 2020-03-19<a class="headerlink" href="#id128" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id129">
<h3>Bugfixes<a class="headerlink" href="#id129" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5438">#5438</a>: Fixed bug when installing rasa with <code class="docutils literal notranslate"><span class="pre">poetry</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/RasaHQ/rasa/issues/5413">#5413</a>: Fixed bug with <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code>, where results
weren’t the same as in 1.7.x. Fixed by setting weight sparsity to 0.</p></li>
</ul>
</div>
<div class="section" id="id132">
<h3>Improved Documentation<a class="headerlink" href="#id132" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5404">#5404</a>: Explain how to run commands as <code class="docutils literal notranslate"><span class="pre">root</span></code> user in Rasa SDK Docker images since version
<code class="docutils literal notranslate"><span class="pre">1.8.0</span></code>. Since version <code class="docutils literal notranslate"><span class="pre">1.8.0</span></code> the Rasa SDK Docker images does not longer run as
<code class="docutils literal notranslate"><span class="pre">root</span></code> user by default. For commands which require <code class="docutils literal notranslate"><span class="pre">root</span></code> user usage, you have to
switch back to the <code class="docutils literal notranslate"><span class="pre">root</span></code> user in your Docker image as described in
<a class="reference internal" href="../user-guide/how-to-deploy/#building-an-action-server-image"><span class="std std-ref">Building an Action Server Image</span></a>.</p></li>
<li><p><a class="reference external" href="https://github.com/RasaHQ/rasa/issues/5402">#5402</a>: Made improvements to Building Assistants tutorial</p></li>
</ul>
</div>
</div>
<div class="section" id="id135">
<h2>[1.8.1] - 2020-03-06<a class="headerlink" href="#id135" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id136">
<h3>Bugfixes<a class="headerlink" href="#id136" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5354">#5354</a>: Fixed issue with using language models like <code class="docutils literal notranslate"><span class="pre">xlnet</span></code> along with <code class="docutils literal notranslate"><span class="pre">entity_recognition</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code> inside
<code class="docutils literal notranslate"><span class="pre">DIETClassifier</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id138">
<h3>Miscellaneous internal changes<a class="headerlink" href="#id138" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>#5330, #5348</p></li>
</ul>
</div>
</div>
<div class="section" id="id139">
<h2>[1.8.0] - 2020-02-26<a class="headerlink" href="#id139" title="Permalink to this headline">¶</a></h2>
<div class="section" id="deprecations-and-removals">
<h3>Deprecations and Removals<a class="headerlink" href="#deprecations-and-removals" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4991">#4991</a>: Removed <code class="docutils literal notranslate"><span class="pre">Agent.continue_training</span></code> and the <code class="docutils literal notranslate"><span class="pre">dump_flattened_stories</span></code> parameter
from <code class="docutils literal notranslate"><span class="pre">Agent.persist</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5266">#5266</a>: Properties <code class="docutils literal notranslate"><span class="pre">Component.provides</span></code> and <code class="docutils literal notranslate"><span class="pre">Component.requires</span></code> are deprecated.
Use <code class="docutils literal notranslate"><span class="pre">Component.required_components()</span></code> instead.</p></li>
</ul>
</div>
<div class="section" id="id142">
<h3>Features<a class="headerlink" href="#id142" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/2674">#2674</a>: Add default value <code class="docutils literal notranslate"><span class="pre">__other__</span></code> to <code class="docutils literal notranslate"><span class="pre">values</span></code> of a <code class="docutils literal notranslate"><span class="pre">CategoricalSlot</span></code>.</p>
<p>All values not mentioned in the list of values of a <code class="docutils literal notranslate"><span class="pre">CategoricalSlot</span></code>
will be mapped to <code class="docutils literal notranslate"><span class="pre">__other__</span></code> for featurization.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4088">#4088</a>: Add story structure validation functionality (e.g. <cite>rasa data validate stories –max-history 5</cite>).</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5065">#5065</a>: Add <a class="reference internal" href="../nlu/components/#lexicalsyntacticfeaturizer"><span class="std std-ref">LexicalSyntacticFeaturizer</span></a> to sparse featurizers.</p>
<p><code class="docutils literal notranslate"><span class="pre">LexicalSyntacticFeaturizer</span></code> does the same featurization as the <code class="docutils literal notranslate"><span class="pre">CRFEntityExtractor</span></code>. We extracted the
featurization into a separate component so that the features can be reused and featurization is independent from the
entity extraction.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5187">#5187</a>: Integrate language models from HuggingFace’s <a class="reference external" href="https://github.com/huggingface/transformers">Transformers</a> Library.</p>
<p>Add a new NLP component <a class="reference internal" href="../nlu/components/#hftransformersnlp"><span class="std std-ref">HFTransformersNLP</span></a> which tokenizes and featurizes incoming messages using a specified
pre-trained model with the Transformers library as the backend.
Add <a class="reference internal" href="../nlu/components/#languagemodeltokenizer"><span class="std std-ref">LanguageModelTokenizer</span></a> and <a class="reference internal" href="../nlu/components/#languagemodelfeaturizer"><span class="std std-ref">LanguageModelFeaturizer</span></a> which use the information from
<a class="reference internal" href="../nlu/components/#hftransformersnlp"><span class="std std-ref">HFTransformersNLP</span></a> and sets them correctly for message object.
Language models currently supported: BERT, OpenAIGPT, GPT-2, XLNet, DistilBert, RoBERTa.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5225">#5225</a>: Added a new CLI command <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">export</span></code> to publish tracker events from a persistent
tracker store using an event broker. See <a class="reference internal" href="../user-guide/command-line-interface/#section-export"><span class="std std-ref">Export Conversations to an Event Broker</span></a>, <a class="reference internal" href="../api/tracker-stores/#tracker-stores"><span class="std std-ref">Tracker Stores</span></a>
and <a class="reference internal" href="../api/event-brokers/#event-brokers"><span class="std std-ref">Event Brokers</span></a> for more details.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5230">#5230</a>: Refactor how GPU and CPU environments are configured for TensorFlow 2.0.</p>
<p>Please refer to the <a class="reference internal" href="../api/tensorflow_usage/#tensorflow-usage"><span class="std std-ref">documentation</span></a> to understand
which environment variables to set in what scenarios. A couple of examples are shown below as well:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># This specifies to use 1024 MB of memory from GPU with logical ID 0 and 2048 MB of memory from GPU with logical ID 1</span>
<span class="n">TF_GPU_MEMORY_ALLOC</span><span class="o">=</span><span class="s2">&quot;0:1024, 1:2048&quot;</span>

<span class="c1"># Specifies that at most 3 CPU threads can be used to parallelize multiple non-blocking operations</span>
<span class="n">TF_INTER_OP_PARALLELISM_THREADS</span><span class="o">=</span><span class="s2">&quot;3&quot;</span>

<span class="c1"># Specifies that at most 2 CPU threads can be used to parallelize a particular operation.</span>
<span class="n">TF_INTRA_OP_PARALLELISM_THREADS</span><span class="o">=</span><span class="s2">&quot;2&quot;</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5266">#5266</a>: Added a new NLU component <a class="reference internal" href="../nlu/components/#diet-classifier"><span class="std std-ref">DIETClassifier</span></a> and a new policy <a class="reference internal" href="../core/policies/#ted-policy"><span class="std std-ref">TEDPolicy</span></a>.</p>
<p>DIET (Dual Intent and Entity Transformer) is a multi-task architecture for intent classification and entity
recognition. You can read more about this component in our <a class="reference internal" href="../nlu/components/#diet-classifier"><span class="std std-ref">documentation</span></a>.
The new component will replace the <a class="reference internal" href="../nlu/components/#embedding-intent-classifier"><span class="std std-ref">EmbeddingIntentClassifier</span></a> and the
<a class="reference internal" href="../nlu/components/#crfentityextractor"><span class="std std-ref">CRFEntityExtractor</span></a> in the future.
Those two components are deprecated from now on.
See <a class="reference internal" href="../migration-guide/#migration-to-rasa-1-8"><span class="std std-ref">migration guide</span></a> for details on how to
switch to the new component.</p>
<p><a class="reference internal" href="../core/policies/#ted-policy"><span class="std std-ref">TEDPolicy</span></a> is the new name for <a class="reference internal" href="../core/policies/#embedding-policy"><span class="std std-ref">EmbeddingPolicy</span></a>.
<code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code> is deprecated from now on.
The functionality of <code class="docutils literal notranslate"><span class="pre">TEDPolicy</span></code> and <code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code> is the same.
Please update your configuration file to use the new name for the policy.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/663">#663</a>: The sentence vector of the <code class="docutils literal notranslate"><span class="pre">SpacyFeaturizer</span></code> and <code class="docutils literal notranslate"><span class="pre">MitieFeaturizer</span></code> can be calculated using max or mean pooling.</p>
<p>To specify the pooling operation, set the option <code class="docutils literal notranslate"><span class="pre">pooling</span></code> for the <code class="docutils literal notranslate"><span class="pre">SpacyFeaturizer</span></code> or the <code class="docutils literal notranslate"><span class="pre">MitieFeaturizer</span></code>
in your configuration file. The default pooling operation is <code class="docutils literal notranslate"><span class="pre">mean</span></code>. The mean pooling operation also does not take
into account words, that do not have a word vector.
See our <a class="reference internal" href="../nlu/components/#components"><span class="std std-ref">documentation</span></a> for more details.</p>
</li>
</ul>
</div>
<div class="section" id="id151">
<h3>Improvements<a class="headerlink" href="#id151" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/3975">#3975</a>: Added command line argument <code class="docutils literal notranslate"><span class="pre">--conversation-id</span></code> to <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">interactive</span></code>.
If the argument is not given, <code class="docutils literal notranslate"><span class="pre">conversation_id</span></code> defaults to a random uuid.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4653">#4653</a>: Added a new command-line argument <code class="docutils literal notranslate"><span class="pre">--init-dir</span></code> to command <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">init</span></code> to specify
the directory in which the project is initialised.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4682">#4682</a>: Added support to send images with the twilio output channel.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4817">#4817</a>: Part of Slack sanitization:
Multiple garbled URL’s in a string coming from slack will be converted into actual strings.
<code class="docutils literal notranslate"><span class="pre">Example:</span> <span class="pre">health</span> <span class="pre">check</span> <span class="pre">of</span> <span class="pre">&lt;http://eemdb.net|eemdb.net&gt;</span> <span class="pre">and</span> <span class="pre">&lt;http://eemdb1.net|eemdb1.net&gt;</span> <span class="pre">to</span> <span class="pre">health</span> <span class="pre">check</span> <span class="pre">of</span>
<span class="pre">eemdb.net</span> <span class="pre">and</span> <span class="pre">eemdb1.net</span></code></p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5117">#5117</a>: New command-line argument –conversation-id will be added and wiil give the ability to
set specific conversation ID for each shell session, if not passed will be random.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5211">#5211</a>: Messages sent to the <a class="reference internal" href="../api/event-brokers/#event-brokers-pika"><span class="std std-ref">Pika Event Broker</span></a> are now persisted. This guarantees
the RabbitMQ will re-send previously received messages after a crash. Note that this
does not help for the case where messages are sent to an unavailable RabbitMQ instance.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5250">#5250</a>: Added support for mattermost connector to use bot accounts.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5266">#5266</a>: We updated our code to TensorFlow 2.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5317">#5317</a>: Events exported using <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">export</span></code> receive a message header if published through a
<code class="docutils literal notranslate"><span class="pre">PikaEventBroker</span></code>. The header is added to the message’s <code class="docutils literal notranslate"><span class="pre">BasicProperties.headers</span></code>
under the <code class="docutils literal notranslate"><span class="pre">rasa-export-process-id</span></code> key
(<code class="docutils literal notranslate"><span class="pre">rasa.core.constants.RASA_EXPORT_PROCESS_ID_HEADER_NAME</span></code>). The value is a
UUID4 generated at each call of <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">export</span></code>. The resulting header is a key-value
pair that looks as follows:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&#39;rasa-export-process-id&#39;: &#39;d3b3d3ffe2bd4f379ccf21214ccfb261&#39;
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5292">#5292</a>: Added <code class="docutils literal notranslate"><span class="pre">followlinks=True</span></code> to os.walk calls, to allow the use of symlinks in training, NLU and domain data.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4811">#4811</a>: Support invoking a <code class="docutils literal notranslate"><span class="pre">SlackBot</span></code> by direct messaging or <code class="docutils literal notranslate"><span class="pre">&#64;&lt;app</span> <span class="pre">name&gt;</span></code> mentions.</p></li>
</ul>
</div>
<div class="section" id="id163">
<h3>Bugfixes<a class="headerlink" href="#id163" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4006">#4006</a>: Fixed timestamp parsing warning when using DucklingHTTPExtractor</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4601">#4601</a>: Fixed issue with <code class="docutils literal notranslate"><span class="pre">action_restart</span></code> getting overridden by <code class="docutils literal notranslate"><span class="pre">action_listen</span></code> when the <code class="docutils literal notranslate"><span class="pre">MappingPolicy</span></code> and the
<a class="reference external" href="https://rasa.com/docs/rasa/core/policies/#two-stage-fallback-policy">TwoStageFallbackPolicy</a> are used together.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5201">#5201</a>: Fixed incorrectly raised Error encountered in pipelines with a <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> and NLG.</p>
<p>When NLU training data is split before NLU pipeline comparison,
NLG responses were not also persisted and therefore training for a pipeline including the <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> would fail.</p>
<p>NLG responses are now persisted along with NLU data to a <code class="docutils literal notranslate"><span class="pre">/train</span></code> directory in the <code class="docutils literal notranslate"><span class="pre">run_x/xx%_exclusion</span></code> folder.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5277">#5277</a>: Fixed sending custom json with Twilio channel</p></li>
</ul>
</div>
<div class="section" id="id168">
<h3>Improved Documentation<a class="headerlink" href="#id168" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5174">#5174</a>: Updated the documentation to properly suggest not to explicitly add utterance actions to the domain.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5189">#5189</a>: Added user guide for reminders and external events, including <code class="docutils literal notranslate"><span class="pre">reminderbot</span></code> demo.</p></li>
</ul>
</div>
<div class="section" id="id171">
<h3>Miscellaneous internal changes<a class="headerlink" href="#id171" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>#3923, #4597, #4903, #5180, #5189, #5266, #699</p></li>
</ul>
</div>
</div>
<div class="section" id="id172">
<h2>[1.7.4] - 2020-02-24<a class="headerlink" href="#id172" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id173">
<h3>Bugfixes<a class="headerlink" href="#id173" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5068">#5068</a>: Tracker stores supporting conversation sessions (<code class="docutils literal notranslate"><span class="pre">SQLTrackerStore</span></code> and
<code class="docutils literal notranslate"><span class="pre">MongoTrackerStore</span></code>) do not save the tracker state to database immediately after
starting a new conversation session. This leads to the number of events being saved
in addition to the already-existing ones to be calculated correctly.</p>
<p>This fixes <code class="docutils literal notranslate"><span class="pre">action_listen</span></code> events being saved twice at the beginning of
conversation sessions.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id175">
<h2>[1.7.3] - 2020-02-21<a class="headerlink" href="#id175" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id176">
<h3>Bugfixes<a class="headerlink" href="#id176" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5231">#5231</a>: Fix segmentation fault when running <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">train</span></code> or <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">shell</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id178">
<h3>Improved Documentation<a class="headerlink" href="#id178" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5286">#5286</a>: Fix doc links on “Deploying your Assistant” page</p></li>
</ul>
</div>
</div>
<div class="section" id="id180">
<h2>[1.7.2] - 2020-02-13<a class="headerlink" href="#id180" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id181">
<h3>Bugfixes<a class="headerlink" href="#id181" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5197">#5197</a>: Fixed incompatibility of Oracle with the <a class="reference internal" href="../api/tracker-stores/#sql-tracker-store"><span class="std std-ref">SQLTrackerStore</span></a>, by using a <code class="docutils literal notranslate"><span class="pre">Sequence</span></code>
for the primary key columns. This does not change anything for SQL databases other than Oracle.
If you are using Oracle, please create a sequence with the instructions in the <a class="reference internal" href="../api/tracker-stores/#sql-tracker-store"><span class="std std-ref">SQLTrackerStore</span></a> docs.</p></li>
</ul>
</div>
<div class="section" id="id183">
<h3>Improved Documentation<a class="headerlink" href="#id183" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5197">#5197</a>: Added section on setting up the SQLTrackerStore with Oracle</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5210">#5210</a>: Renamed “Running the Server” page to “Configuring the HTTP API”</p></li>
</ul>
</div>
</div>
<div class="section" id="id186">
<h2>[1.7.1] - 2020-02-11<a class="headerlink" href="#id186" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id187">
<h3>Bugfixes<a class="headerlink" href="#id187" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5106">#5106</a>: Fixed file loading of non proper UTF-8 story files, failing properly when checking for
story files.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5162">#5162</a>: Fix problem with multi-intents.
Training with multi-intents using the <code class="docutils literal notranslate"><span class="pre">CountVectorsFeaturizer</span></code> together with <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code> is
working again.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5171">#5171</a>: Fix bug <code class="docutils literal notranslate"><span class="pre">ValueError:</span> <span class="pre">Cannot</span> <span class="pre">concatenate</span> <span class="pre">sparse</span> <span class="pre">features</span> <span class="pre">as</span> <span class="pre">sequence</span> <span class="pre">dimension</span> <span class="pre">does</span> <span class="pre">not</span> <span class="pre">match</span></code>.</p>
<p>When training a Rasa model that contains responses for just some of the intents, training was failing.
Fixed the featurizers to return a consistent feature vector in case no response was given for a specific message.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5199">#5199</a>: If no text features are present in <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code> return the intent <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5216">#5216</a>: Resolve version conflicts: Pin version of cloudpickle to ~=1.2.0.</p></li>
</ul>
</div>
</div>
<div class="section" id="id193">
<h2>[1.7.0] - 2020-01-29<a class="headerlink" href="#id193" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id194">
<h3>Deprecations and Removals<a class="headerlink" href="#id194" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4964">#4964</a>: The endpoint <code class="docutils literal notranslate"><span class="pre">/conversations/&lt;conversation_id&gt;/execute</span></code> is now deprecated. Instead, users should use
the <code class="docutils literal notranslate"><span class="pre">/conversations/&lt;conversation_id&gt;/trigger_intent</span></code> endpoint and thus trigger intents instead of actions.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4978">#4978</a>: Remove option <code class="docutils literal notranslate"><span class="pre">use_cls_token</span></code> from tokenizers and option <code class="docutils literal notranslate"><span class="pre">return_sequence</span></code> from featurizers.</p>
<p>By default all tokenizer add a special token (<code class="docutils literal notranslate"><span class="pre">__CLS__</span></code>) to the end of the list of tokens.
This token will be used to capture the features of the whole utterance.</p>
<p>The featurizers will return a matrix of size (number-of-tokens x feature-dimension) by default.
This allows to train sequence models.
However, the feature vector of the <code class="docutils literal notranslate"><span class="pre">__CLS__</span></code> token can be used to train non-sequence models.
The corresponding classifier can decide what kind of features to use.</p>
</li>
</ul>
</div>
<div class="section" id="id197">
<h3>Features<a class="headerlink" href="#id197" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/400">#400</a>: Rename <code class="docutils literal notranslate"><span class="pre">templates</span></code> key in domain to <code class="docutils literal notranslate"><span class="pre">responses</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">templates</span></code> key will still work for backwards compatibility but will raise a future warning.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4902">#4902</a>: Added a new configuration parameter, <code class="docutils literal notranslate"><span class="pre">ranking_length</span></code> to the <code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code>, <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code>,
and <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> classes.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4964">#4964</a>: External events and reminders now trigger intents (and entities) instead of actions.</p>
<p>Add new endpoint <code class="docutils literal notranslate"><span class="pre">/conversations/&lt;conversation_id&gt;/trigger_intent</span></code>, which lets the user specify an intent and a
list of entities that is injected into the conversation in place of a user message. The bot then predicts and
executes a response action.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4978">#4978</a>: Add <code class="docutils literal notranslate"><span class="pre">ConveRTTokenizer</span></code>.</p>
<p>The tokenizer should be used whenever the <code class="docutils literal notranslate"><span class="pre">ConveRTFeaturizer</span></code> is used.</p>
<p>Every tokenizer now supports the following configuration options:
<code class="docutils literal notranslate"><span class="pre">intent_tokenization_flag</span></code>: Flag to check whether to split intents (default <code class="docutils literal notranslate"><span class="pre">False</span></code>).
<code class="docutils literal notranslate"><span class="pre">intent_split_symbol</span></code>: Symbol on which intent should be split (default <code class="docutils literal notranslate"><span class="pre">_</span></code>)</p>
</li>
</ul>
</div>
<div class="section" id="id202">
<h3>Improvements<a class="headerlink" href="#id202" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/1988">#1988</a>: Remove the need of specifying utter actions in the <code class="docutils literal notranslate"><span class="pre">actions</span></code> section explicitly if these actions are already
listed in the <code class="docutils literal notranslate"><span class="pre">templates</span></code> section.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4877">#4877</a>: Entity examples that have been extracted using an external extractor are excluded
from Markdown dumping in <code class="docutils literal notranslate"><span class="pre">MarkdownWriter.dumps()</span></code>. The excluded external extractors
are <code class="docutils literal notranslate"><span class="pre">DucklingHTTPExtractor</span></code> and <code class="docutils literal notranslate"><span class="pre">SpacyEntityExtractor</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4902">#4902</a>: The <code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code>, <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code>, and <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> now by default normalize confidence
levels over the top 10 results. See <a class="reference internal" href="../migration-guide/#migration-to-rasa-1-7"><span class="std std-ref">Rasa 1.6 to Rasa 1.7</span></a> for more details.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4964">#4964</a>: <code class="docutils literal notranslate"><span class="pre">ReminderCancelled</span></code> can now cancel multiple reminders if no name is given. It still cancels a single
reminder if the reminder’s name is specified.</p></li>
</ul>
</div>
<div class="section" id="id207">
<h3>Bugfixes<a class="headerlink" href="#id207" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4774">#4774</a>: Requests to <code class="docutils literal notranslate"><span class="pre">/model/train</span></code> do not longer block other requests to the Rasa server.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4896">#4896</a>: Fixed default behavior of <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span> <span class="pre">core</span> <span class="pre">--evaluate-model-directory</span></code> when called without <code class="docutils literal notranslate"><span class="pre">--model</span></code>. Previously, the latest model file was used as <code class="docutils literal notranslate"><span class="pre">--model</span></code>. Now the default model directory is used instead.</p>
<p>New behavior of <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span> <span class="pre">core</span> <span class="pre">--evaluate-model-directory</span></code> when given an existing file as argument for <code class="docutils literal notranslate"><span class="pre">--model</span></code>: Previously, this led to an error. Now a warning is displayed and the directory containing the given file is used as <code class="docutils literal notranslate"><span class="pre">--model</span></code>.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5040">#5040</a>: Updated the dependency <code class="docutils literal notranslate"><span class="pre">networkx</span></code> from 2.3.0 to 2.4.0. The old version created incompatibilities when using pip.</p>
<p>There is an imcompatibility between Rasa dependecy requests 2.22.0 and the own depedency from Rasa for networkx raising errors upon pip install. There is also a bug corrected in <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> which used <code class="docutils literal notranslate"><span class="pre">~=</span></code> instead of <code class="docutils literal notranslate"><span class="pre">==</span></code>. All of these are fixed using networkx 2.4.0.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5057">#5057</a>: Fixed compatibility issue with Microsoft Bot Framework Emulator if <code class="docutils literal notranslate"><span class="pre">service_url</span></code> lacked a trailing <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5092">#5092</a>: DynamoDB tracker store decimal values will now be rounded on save. Previously values exceeding 38 digits caused an unhandled error.</p></li>
</ul>
</div>
<div class="section" id="id213">
<h3>Miscellaneous internal changes<a class="headerlink" href="#id213" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>#4458, #4664, #4780, #5029</p></li>
</ul>
</div>
</div>
<div class="section" id="id214">
<h2>[1.6.2] - 2020-01-28<a class="headerlink" href="#id214" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id215">
<h3>Improvements<a class="headerlink" href="#id215" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4994">#4994</a>: Switching back to a TensorFlow release which only includes CPU support to reduce the
size of the dependencies. If you want to use the TensorFlow package with GPU support,
please run <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">tensorflow-gpu==1.15.0</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id217">
<h3>Bugfixes<a class="headerlink" href="#id217" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5111">#5111</a>: Fixes <code class="docutils literal notranslate"><span class="pre">Exception</span> <span class="pre">'Loop'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'_ready'</span></code> error when running
<code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">init</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5126">#5126</a>: Updated the end-to-end ValueError you recieve when you have a invalid story format to point
to the updated doc link.</p></li>
</ul>
</div>
</div>
<div class="section" id="id220">
<h2>[1.6.1] - 2020-01-07<a class="headerlink" href="#id220" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id221">
<h3>Bugfixes<a class="headerlink" href="#id221" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4989">#4989</a>: Use an empty domain in case a model is loaded which has no domain
(avoids errors when accessing <code class="docutils literal notranslate"><span class="pre">agent.doman.&lt;some</span> <span class="pre">attribute&gt;</span></code>).</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4995">#4995</a>: Replace error message with warning in tokenizers and featurizers if default parameter not set.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5019">#5019</a>: Pin sanic patch version instead of minor version. Fixes sanic <code class="docutils literal notranslate"><span class="pre">_run_request_middleware()</span></code> error.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5032">#5032</a>: Fix wrong calculation of additional conversation events when saving the conversation.
This led to conversation events not being saved.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/5032">#5032</a>: Fix wrong order of conversation events when pushing events to conversations via
<code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/conversations/&lt;conversation_id&gt;/tracker/events</span></code>.</p></li>
</ul>
</div>
</div>
<div class="section" id="id227">
<h2>[1.6.0] - 2019-12-18<a class="headerlink" href="#id227" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id228">
<h3>Deprecations and Removals<a class="headerlink" href="#id228" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4935">#4935</a>: Removed <code class="docutils literal notranslate"><span class="pre">ner_features</span></code> as a feature name from <code class="docutils literal notranslate"><span class="pre">CRFEntityExtractor</span></code>, use <code class="docutils literal notranslate"><span class="pre">text_dense_features</span></code> instead.</p>
<p>The following settings match the previous <code class="docutils literal notranslate"><span class="pre">NGramFeaturizer</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&#39;CountVectorsFeaturizer&#39;</span>
    <span class="nt">analyzer</span><span class="p">:</span> <span class="s">&#39;char_wb&#39;</span>
    <span class="nt">min_ngram</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
    <span class="nt">max_ngram</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">17</span>
    <span class="nt">max_features</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="nt">min_df</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4957">#4957</a>: To use custom features in the <code class="docutils literal notranslate"><span class="pre">CRFEntityExtractor</span></code> use <code class="docutils literal notranslate"><span class="pre">text_dense_features</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ner_features</span></code>. If
<code class="docutils literal notranslate"><span class="pre">text_dense_features</span></code> are present in the feature set, the <code class="docutils literal notranslate"><span class="pre">CRFEntityExtractor</span></code> will automatically make use of
them. Just make sure to add a dense featurizer in front of the <code class="docutils literal notranslate"><span class="pre">CRFEntityExtractor</span></code> in your pipeline and set the
flag <code class="docutils literal notranslate"><span class="pre">return_sequence</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> for that featurizer.
See <a class="reference external" href="https://rasa.com/docs/rasa/nlu/entity-extraction/#passing-custom-features-to-crfentityextractor">https://rasa.com/docs/rasa/nlu/entity-extraction/#passing-custom-features-to-crfentityextractor</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4990">#4990</a>: Deprecated <code class="docutils literal notranslate"><span class="pre">Agent.continue_training</span></code>. Instead, a model should be retrained.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/684">#684</a>: Specifying lookup tables directly in the NLU file is now deprecated. Please specify
them in an external file.</p></li>
</ul>
</div>
<div class="section" id="id233">
<h3>Features<a class="headerlink" href="#id233" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4795">#4795</a>: Replaced the warnings about missing templates, intents etc. in validator.py by debug messages.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4830">#4830</a>: Added conversation sessions to trackers.</p>
<p>A conversation session represents the dialog between the assistant and a user.
Conversation sessions can begin in three ways: 1. the user begins the conversation
with the assistant, 2. the user sends their first message after a configurable period
of inactivity, or 3. a manual session start is triggered with the <code class="docutils literal notranslate"><span class="pre">/session_start</span></code>
intent message. The period of inactivity after which a new conversation session is
triggered is defined in the domain using the <code class="docutils literal notranslate"><span class="pre">session_expiration_time</span></code> key in the
<code class="docutils literal notranslate"><span class="pre">session_config</span></code> section. The introduction of conversation sessions comprises the
following changes:</p>
<ul class="simple">
<li><p>Added a new event <code class="docutils literal notranslate"><span class="pre">SessionStarted</span></code> that marks the beginning of a new conversation
session.</p></li>
<li><p>Added a new default action <code class="docutils literal notranslate"><span class="pre">ActionSessionStart</span></code>. This action takes all
<code class="docutils literal notranslate"><span class="pre">SlotSet</span></code> events from the previous session and applies it to the next session.</p></li>
<li><p>Added a new default intent <code class="docutils literal notranslate"><span class="pre">session_start</span></code> which triggers the start of a new
conversation session.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SQLTrackerStore</span></code> and <code class="docutils literal notranslate"><span class="pre">MongoTrackerStore</span></code> only retrieve
events from the last session from the database.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The session behaviour is disabled for existing projects, i.e. existing domains
without session config section.</p>
</div>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4935">#4935</a>: Preparation for an upcoming change in the <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code>:</p>
<p>Add option <code class="docutils literal notranslate"><span class="pre">use_cls_token</span></code> to all tokenizers. If it is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the token <code class="docutils literal notranslate"><span class="pre">__CLS__</span></code> will be added to
the end of the list of tokens. Default is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>. No need to change the default value for now.</p>
<p>Add option <code class="docutils literal notranslate"><span class="pre">return_sequence</span></code> to all featurizers. By default all featurizers return a matrix of size
(1 x feature-dimension). If the option <code class="docutils literal notranslate"><span class="pre">return_sequence</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the corresponding featurizer will return
a matrix of size (token-length x feature-dimension). See <a class="reference external" href="https://rasa.com/docs/rasa/nlu/components/#featurizers">https://rasa.com/docs/rasa/nlu/components/#featurizers</a>.
Default value is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>. However, you might want to set it to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you want to use custom features
in the <code class="docutils literal notranslate"><span class="pre">CRFEntityExtractor</span></code>.
See <a class="reference external" href="https://rasa.com/docs/rasa/nlu/entity-extraction/#passing-custom-features-to-crfentityextractor">https://rasa.com/docs/rasa/nlu/entity-extraction/#passing-custom-features-to-crfentityextractor</a>.</p>
<p>Changed some featurizers to use sparse features, which should reduce memory usage with large amounts of training data significantly.
Read more: <a class="reference internal" href="../nlu/components/#text-featurizers"><span class="std std-ref">Text Featurizers</span></a> .</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These changes break model compatibility. You will need to retrain your old models!</p>
</div>
</li>
</ul>
</div>
<div class="section" id="id237">
<h3>Improvements<a class="headerlink" href="#id237" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/3549">#3549</a>: Added <code class="docutils literal notranslate"><span class="pre">--no-plot</span></code> option for <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span></code> command, which disables rendering of confusion matrix and histogram. By default plots will be rendered.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4086">#4086</a>: If matplotlib couldn’t set up a default backend, it will be set automatically to TkAgg/Agg one</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4647">#4647</a>: Add the option <code class="docutils literal notranslate"><span class="pre">`random_seed`</span></code> to the <code class="docutils literal notranslate"><span class="pre">`rasa</span> <span class="pre">data</span> <span class="pre">split</span> <span class="pre">nlu`</span></code> command to generate
reproducible train/test splits.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4734">#4734</a>: Changed <code class="docutils literal notranslate"><span class="pre">url</span></code> <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> arguments for custom tracker stores to <code class="docutils literal notranslate"><span class="pre">host</span></code> to reflect the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> arguments of
currently supported tracker stores. Note that in <code class="docutils literal notranslate"><span class="pre">endpoints.yml</span></code>, these are still declared as <code class="docutils literal notranslate"><span class="pre">url</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4751">#4751</a>: The <code class="docutils literal notranslate"><span class="pre">kafka-python</span></code> dependency has become as an “extra” dependency. To use the
<code class="docutils literal notranslate"><span class="pre">KafkaEventConsumer</span></code>, <code class="docutils literal notranslate"><span class="pre">rasa</span></code> has to be installed with the <code class="docutils literal notranslate"><span class="pre">[kafka]</span></code> option, i.e.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install rasa<span class="o">[</span>kafka<span class="o">]</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4801">#4801</a>: Allow creation of natural language interpreter and generator by classname reference
in <code class="docutils literal notranslate"><span class="pre">endpoints.yml</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4834">#4834</a>: Made it explicit that interactive learning does not work with NLU-only models.</p>
<p>Interactive learning no longer trains NLU-only models if no model is provided
and no core data is provided.</p>
</li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4899">#4899</a>: The <code class="docutils literal notranslate"><span class="pre">intent_report.json</span></code> created by <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span></code> now creates an extra field
<code class="docutils literal notranslate"><span class="pre">confused_with</span></code> for each intent. This is a dictionary containing the names of
the most common false positives when this intent should be predicted, and the
number of such false positives.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4976">#4976</a>: <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span> <span class="pre">nlu</span> <span class="pre">--cross-validation</span></code> now also includes an evaluation of the response selector.
As a result, the train and test F1-score, accuracy and precision is logged for the response selector.
A report is also generated in the <code class="docutils literal notranslate"><span class="pre">results</span></code> folder by the name <code class="docutils literal notranslate"><span class="pre">response_selection_report.json</span></code></p></li>
</ul>
</div>
<div class="section" id="id247">
<h3>Bugfixes<a class="headerlink" href="#id247" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4635">#4635</a>: If a <code class="docutils literal notranslate"><span class="pre">wait_time_between_pulls</span></code> is configured for the model server in <code class="docutils literal notranslate"><span class="pre">endpoints.yml</span></code>,
this will be used instead of the default one when running Rasa X.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4759">#4759</a>: Training Luis data with <code class="docutils literal notranslate"><span class="pre">luis_schema_version</span></code> higher than 4.x.x will show a warning instead of throwing an exception.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4799">#4799</a>: Running <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">interactive</span></code> with no NLU data now works, with the functionality of <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">interactive</span> <span class="pre">core</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4917">#4917</a>: When loading models from S3, namespaces (folders within a bucket) are now respected.
Previously, this would result in an error upon loading the model.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4925">#4925</a>: “rasa init” will ask if user wants to train a model</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4942">#4942</a>: Pin <code class="docutils literal notranslate"><span class="pre">multidict</span></code> dependency to 4.6.1 to prevent sanic from breaking,
see <a class="reference external" href="https://github.com/huge-success/sanic/issues/1729">https://github.com/huge-success/sanic/issues/1729</a></p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4985">#4985</a>: Fix errors during training and testing of <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code>.</p></li>
</ul>
</div>
</div>
<div class="section" id="id255">
<h2>[1.5.3] - 2019-12-11<a class="headerlink" href="#id255" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id256">
<h3>Improvements<a class="headerlink" href="#id256" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4933">#4933</a>: Improved error message that appears when an incorrect parameter is passed to a policy.</p></li>
</ul>
</div>
<div class="section" id="id258">
<h3>Bugfixes<a class="headerlink" href="#id258" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4914">#4914</a>: Added <code class="docutils literal notranslate"><span class="pre">rasa/nlu/schemas/config.yml</span></code> to wheel package</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4942">#4942</a>: Pin <code class="docutils literal notranslate"><span class="pre">multidict</span></code> dependency to 4.6.1 to prevent sanic from breaking,
see <a class="reference external" href="https://github.com/huge-success/sanic/issues/1729">https://github.com/huge-success/sanic/issues/1729</a></p></li>
</ul>
</div>
</div>
<div class="section" id="id261">
<h2>[1.5.2] - 2019-12-09<a class="headerlink" href="#id261" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id262">
<h3>Improvements<a class="headerlink" href="#id262" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/3684">#3684</a>: <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">interactive</span></code> will skip the story visualization of training stories in case
there are more than 200 stories. Stories created during interactive learning will be
visualized as before.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4792">#4792</a>: The log level for SocketIO loggers, including <code class="docutils literal notranslate"><span class="pre">websockets.protocol</span></code>, <code class="docutils literal notranslate"><span class="pre">engineio.server</span></code>,
and <code class="docutils literal notranslate"><span class="pre">socketio.server</span></code>, is now handled by the <code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_LIBRARIES</span></code> environment variable,
where the default log level is <code class="docutils literal notranslate"><span class="pre">ERROR</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4873">#4873</a>: Updated all example bots and documentation to use the updated <code class="docutils literal notranslate"><span class="pre">dispatcher.utter_message()</span></code> method from <cite>rasa-sdk==1.5.0</cite>.</p></li>
</ul>
</div>
<div class="section" id="id266">
<h3>Bugfixes<a class="headerlink" href="#id266" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/3684">#3684</a>: <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">interactive</span></code> will not load training stories in case the visualization is
skipped.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4789">#4789</a>: Fixed error where spacy models where not found in the docker images.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4802">#4802</a>: Fixed unnecessary <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> unpacking in <code class="docutils literal notranslate"><span class="pre">rasa.test.test_core</span></code> call in <code class="docutils literal notranslate"><span class="pre">rasa.test.test</span></code> function.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4898">#4898</a>: Training data files now get loaded in the same order (especially relevant to subdirectories) each time to ensure training consistency when using a random seed.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4918">#4918</a>: Locks for tickets in <code class="docutils literal notranslate"><span class="pre">LockStore</span></code> are immediately issued without a redundant
check for their availability.</p></li>
</ul>
</div>
<div class="section" id="id272">
<h3>Improved Documentation<a class="headerlink" href="#id272" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4844">#4844</a>: Added <code class="docutils literal notranslate"><span class="pre">towncrier</span></code> to automatically collect changelog entries.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4869">#4869</a>: Document the pipeline for <code class="docutils literal notranslate"><span class="pre">pretrained_embeddings_convert</span></code> in the pre-configured pipelines section.</p></li>
<li><p><a class="reference external" href="https://github.com/rasahq/rasa/issues/4894">#4894</a>: <code class="docutils literal notranslate"><span class="pre">Proactively</span> <span class="pre">Reaching</span> <span class="pre">Out</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">User</span> <span class="pre">Using</span> <span class="pre">Actions</span></code> now correctly links to the
endpoint specification.</p></li>
</ul>
</div>
</div>
<div class="section" id="id276">
<h2>[1.5.1] - 2019-11-27<a class="headerlink" href="#id276" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id277">
<h3>Improvements<a class="headerlink" href="#id277" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>When NLU training data is dumped as Markdown file the intents are not longer ordered
alphabetically, but in the original order of given training data</p></li>
</ul>
</div>
<div class="section" id="id278">
<h3>Bugfixes<a class="headerlink" href="#id278" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>End to end stories now support literal payloads which specify entities, e.g.
<code class="docutils literal notranslate"><span class="pre">greet:</span> <span class="pre">/greet{&quot;name&quot;:</span> <span class="pre">&quot;John&quot;}</span></code></p></li>
<li><p>Slots will be correctly interpolated if there are lists in custom response templates.</p></li>
<li><p>Fixed compatibility issues with <code class="docutils literal notranslate"><span class="pre">rasa-sdk</span></code> <code class="docutils literal notranslate"><span class="pre">1.5</span></code></p></li>
<li><p>Updated <code class="docutils literal notranslate"><span class="pre">/status</span></code> endpoint to show correct path to model archive</p></li>
</ul>
</div>
</div>
<div class="section" id="id279">
<h2>[1.5.0] - 2019-11-26<a class="headerlink" href="#id279" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id280">
<h3>Features<a class="headerlink" href="#id280" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added data validator that checks if domain object returned is empty. If so, exit early
from the command <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">data</span> <span class="pre">validate</span></code>.</p></li>
<li><p>Added the KeywordIntentClassifier.</p></li>
<li><p>Added documentation for <code class="docutils literal notranslate"><span class="pre">AugmentedMemoizationPolicy</span></code>.</p></li>
<li><p>Fall back to <code class="docutils literal notranslate"><span class="pre">InMemoryTrackerStore</span></code> in case there is any problem with the current
tracker store.</p></li>
<li><p>Arbitrary metadata can now be attached to any <code class="docutils literal notranslate"><span class="pre">Event</span></code> subclass. The data must be
stored under the <code class="docutils literal notranslate"><span class="pre">metadata</span></code> key when reading the event from a JSON object or
dictionary.</p></li>
<li><p>Add command line argument <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">x</span> <span class="pre">--config</span> <span class="pre">CONFIG</span></code>, to specify path to the policy
and NLU pipeline configuration of your bot (default: <code class="docutils literal notranslate"><span class="pre">config.yml</span></code>).</p></li>
<li><p>Added a new NLU featurizer - <code class="docutils literal notranslate"><span class="pre">ConveRTFeaturizer</span></code> based on <a class="reference external" href="https://github.com/PolyAI-LDN/polyai-models">ConveRT</a> model released by PolyAI.</p></li>
<li><p>Added a new preconfigured pipeline - <code class="docutils literal notranslate"><span class="pre">pretrained_embeddings_convert</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id281">
<h3>Improvements<a class="headerlink" href="#id281" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Do not retrain the entire Core model if only the <code class="docutils literal notranslate"><span class="pre">templates</span></code> section of the domain
is changed.</p></li>
<li><p>Upgraded <code class="docutils literal notranslate"><span class="pre">jsonschema</span></code> version.</p></li>
</ul>
</div>
<div class="section" id="id282">
<h3>Deprecations and Removals<a class="headerlink" href="#id282" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Remove duplicate messages when creating training data (issues/1446).</p></li>
</ul>
</div>
<div class="section" id="id283">
<h3>Bugfixes<a class="headerlink" href="#id283" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MultiProjectImporter</span></code> now imports files in the order of the import statements</p></li>
<li><p>Fixed server hanging forever on leaving <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">shell</span></code> before first message</p></li>
<li><p>Fixed rasa init showing traceback error when user does Keyboard Interrupt before choosing a project path</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CountVectorsFeaturizer</span></code> featurizes intents only if its analyzer is set to <code class="docutils literal notranslate"><span class="pre">word</span></code></p></li>
<li><p>Fixed bug where facebooks generic template was not rendered when buttons were <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p>Fixed default intents unnecessarily raising undefined parsing error</p></li>
</ul>
</div>
</div>
<div class="section" id="id284">
<h2>[1.4.6] - 2019-11-22<a class="headerlink" href="#id284" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id285">
<h3>Bugfixes<a class="headerlink" href="#id285" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed Rasa X not working when any tracker store was configured for Rasa.</p></li>
<li><p>Use the matplotlib backend <code class="docutils literal notranslate"><span class="pre">agg</span></code> in case the <code class="docutils literal notranslate"><span class="pre">tkinter</span></code> package is not installed.</p></li>
</ul>
</div>
</div>
<div class="section" id="id286">
<h2>[1.4.5] - 2019-11-14<a class="headerlink" href="#id286" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id287">
<h3>Bugfixes<a class="headerlink" href="#id287" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>NLU-only models no longer throw warnings about parsing features not defined in the domain</p></li>
<li><p>Fixed bug that stopped Dockerfiles from building version 1.4.4.</p></li>
<li><p>Fixed format guessing for e2e stories with intent restated as <code class="docutils literal notranslate"><span class="pre">/intent</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="id288">
<h2>[1.4.4] - 2019-11-13<a class="headerlink" href="#id288" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id289">
<h3>Features<a class="headerlink" href="#id289" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PikaEventProducer</span></code> adds the RabbitMQ <code class="docutils literal notranslate"><span class="pre">App</span> <span class="pre">ID</span></code> message property to published
messages with the value of the <code class="docutils literal notranslate"><span class="pre">RASA_ENVIRONMENT</span></code> environment variable. The
message property will not be assigned if this environment variable isn’t set.</p></li>
</ul>
</div>
<div class="section" id="id290">
<h3>Improvements<a class="headerlink" href="#id290" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Updated Mattermost connector documentation to be more clear.</p></li>
<li><p>Updated format strings to f-strings where appropriate.</p></li>
<li><p>Updated tensorflow requirement to <code class="docutils literal notranslate"><span class="pre">1.15.0</span></code></p></li>
<li><p>Dump domain using UTF-8 (to avoid <code class="docutils literal notranslate"><span class="pre">\UXXXX</span></code> sequences in the dumped files)</p></li>
</ul>
</div>
<div class="section" id="id291">
<h3>Bugfixes<a class="headerlink" href="#id291" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed exporting NLU training data in <code class="docutils literal notranslate"><span class="pre">json</span></code> format from <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">interactive</span></code></p></li>
<li><p>Fixed numpy deprecation warnings</p></li>
</ul>
</div>
</div>
<div class="section" id="id292">
<h2>[1.4.3] - 2019-10-29<a class="headerlink" href="#id292" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id293">
<h3>Bugfixes<a class="headerlink" href="#id293" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">Connection</span> <span class="pre">reset</span> <span class="pre">by</span> <span class="pre">peer</span></code> errors and bot response delays when using the
RabbitMQ event broker.</p></li>
</ul>
</div>
</div>
<div class="section" id="id294">
<h2>[1.4.2] - 2019-10-28<a class="headerlink" href="#id294" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id295">
<h3>Deprecations and Removals<a class="headerlink" href="#id295" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>TensorFlow deprecation warnings are no longer shown when running <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">x</span></code></p></li>
</ul>
</div>
<div class="section" id="id296">
<h3>Bugfixes<a class="headerlink" href="#id296" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">'Namespace'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'persist_nlu_data'</span></code> error during
interactive learning</p></li>
<li><p>Pinned <cite>networkx~=2.3.0</cite> to fix visualization in <cite>rasa interactive</cite> and Rasa X</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">No</span> <span class="pre">model</span> <span class="pre">found</span></code> error when using <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">run</span> <span class="pre">actions</span></code> with “actions”
as a directory.</p></li>
</ul>
</div>
</div>
<div class="section" id="id297">
<h2>[1.4.1] - 2019-10-22<a class="headerlink" href="#id297" title="Permalink to this headline">¶</a></h2>
<p>Regression: changes from <code class="docutils literal notranslate"><span class="pre">1.2.12</span></code> were missing from <code class="docutils literal notranslate"><span class="pre">1.4.0</span></code>, readded them</p>
</div>
<div class="section" id="id298">
<h2>[1.4.0] - 2019-10-19<a class="headerlink" href="#id298" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id299">
<h3>Features<a class="headerlink" href="#id299" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>add flag to CLI to persist NLU training data if needed</p></li>
<li><p>log a warning if the <code class="docutils literal notranslate"><span class="pre">Interpreter</span></code> picks up an intent or an entity that does not
exist in the domain file.</p></li>
<li><p>added <code class="docutils literal notranslate"><span class="pre">DynamoTrackerStore</span></code> to support persistence of agents running on AWS</p></li>
<li><p>added docstrings for <code class="docutils literal notranslate"><span class="pre">TrackerStore</span></code> classes</p></li>
<li><p>added buttons and images to mattermost.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CRFEntityExtractor</span></code> updated to accept arbitrary token-level features like word
vectors (issues/4214)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SpacyFeaturizer</span></code> updated to add <code class="docutils literal notranslate"><span class="pre">ner_features</span></code> for <code class="docutils literal notranslate"><span class="pre">CRFEntityExtractor</span></code></p></li>
<li><p>Sanitizing incoming messages from slack to remove slack formatting like &lt;<a class="reference external" href="mailto:xyz&#37;&#52;&#48;rasa">mailto:xyz<span>&#64;</span>rasa</a>.com|xyz&#64;rasa.com&gt;
or &lt;<a class="reference external" href="http://url">http://url</a>.com|url.com&gt; and substitute it with original content</p></li>
<li><p>Added the ability to configure the number of Sanic worker processes in the HTTP
server (<code class="docutils literal notranslate"><span class="pre">rasa.server</span></code>) and input channel server
(<code class="docutils literal notranslate"><span class="pre">rasa.core.agent.handle_channels()</span></code>). The number of workers can be set using the
environment variable <code class="docutils literal notranslate"><span class="pre">SANIC_WORKERS</span></code> (default: 1). A value of &gt;1 is allowed only in
combination with <code class="docutils literal notranslate"><span class="pre">RedisLockStore</span></code> as the lock store.</p></li>
<li><p>Botframework channel can handle uploaded files in <code class="docutils literal notranslate"><span class="pre">UserMessage</span></code> metadata.</p></li>
<li><p>Added data validator that checks there is no duplicated example data across multiples intents</p></li>
</ul>
</div>
<div class="section" id="id300">
<h3>Improvements<a class="headerlink" href="#id300" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Unknown sections in markdown format (NLU data) are not ignored anymore, but instead an error is raised.</p></li>
<li><p>It is now easier to add metadata to a <code class="docutils literal notranslate"><span class="pre">UserMessage</span></code> in existing channels.
You can do so by overwriting the method <code class="docutils literal notranslate"><span class="pre">get_metadata</span></code>. The return value of this
method will be passed to the <code class="docutils literal notranslate"><span class="pre">UserMessage</span></code> object.</p></li>
<li><p>Tests can now be run in parallel</p></li>
<li><p>Serialise <code class="docutils literal notranslate"><span class="pre">DialogueStateTracker</span></code> as json instead of pickle. <strong>DEPRECATION warning</strong>:
Deserialisation of pickled trackers will be deprecated in version 2.0. For now,
trackers are still loaded from pickle but will be dumped as json in any subsequent
save operations.</p></li>
<li><p>Event brokers are now also passed to custom tracker stores (using the <code class="docutils literal notranslate"><span class="pre">event_broker</span></code> parameter)</p></li>
<li><p>Don’t run the Rasa Docker image as <code class="docutils literal notranslate"><span class="pre">root</span></code>.</p></li>
<li><p>Use multi-stage builds to reduce the size of the Rasa Docker image.</p></li>
<li><p>Updated the <code class="docutils literal notranslate"><span class="pre">/status</span></code> api route to use the actual model file location instead of the <code class="docutils literal notranslate"><span class="pre">tmp</span></code> location.</p></li>
</ul>
</div>
<div class="section" id="id301">
<h3>Deprecations and Removals<a class="headerlink" href="#id301" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><strong>Removed Python 3.5 support</strong></p></li>
</ul>
</div>
<div class="section" id="id302">
<h3>Bugfixes<a class="headerlink" href="#id302" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>fixed missing <code class="docutils literal notranslate"><span class="pre">tkinter</span></code> dependency for running tests on Ubuntu</p></li>
<li><p>fixed issue with <code class="docutils literal notranslate"><span class="pre">conversation</span></code> JSON serialization</p></li>
<li><p>fixed the hanging HTTP call with <code class="docutils literal notranslate"><span class="pre">ner_duckling_http</span></code> pipeline</p></li>
<li><p>fixed Interactive Learning intent payload messages saving in nlu files</p></li>
<li><p>fixed DucklingHTTPExtractor dimensions by actually applying to the request</p></li>
</ul>
</div>
</div>
<div class="section" id="id303">
<h2>[1.3.10] - 2019-10-18<a class="headerlink" href="#id303" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id304">
<h3>Features<a class="headerlink" href="#id304" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Can now pass a package as an argument to the <code class="docutils literal notranslate"><span class="pre">--actions</span></code> parameter of the
<code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">run</span> <span class="pre">actions</span></code> command.</p></li>
</ul>
</div>
<div class="section" id="id305">
<h3>Bugfixes<a class="headerlink" href="#id305" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed visualization of stories with entities which led to a failing
visualization in Rasa X</p></li>
</ul>
</div>
</div>
<div class="section" id="id306">
<h2>[1.3.9] - 2019-10-10<a class="headerlink" href="#id306" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id307">
<h3>Features<a class="headerlink" href="#id307" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Port of 1.2.10 (support for RabbitMQ TLS authentication and <code class="docutils literal notranslate"><span class="pre">port</span></code> key in
event broker endpoint config).</p></li>
<li><p>Port of 1.2.11 (support for passing a CA file for SSL certificate verification via the
–ssl-ca-file flag).</p></li>
</ul>
</div>
<div class="section" id="id308">
<h3>Bugfixes<a class="headerlink" href="#id308" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed the hanging HTTP call with <code class="docutils literal notranslate"><span class="pre">ner_duckling_http</span></code> pipeline.</p></li>
<li><p>Fixed text processing of <code class="docutils literal notranslate"><span class="pre">intent</span></code> attribute inside <code class="docutils literal notranslate"><span class="pre">CountVectorFeaturizer</span></code>.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">argument</span> <span class="pre">of</span> <span class="pre">type</span> <span class="pre">'NoneType'</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">iterable</span></code> when using <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">shell</span></code>,
<code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">interactive</span></code> / <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">run</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="id309">
<h2>[1.3.8] - 2019-10-08<a class="headerlink" href="#id309" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id310">
<h3>Improvements<a class="headerlink" href="#id310" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Policies now only get imported if they are actually used. This removes
TensorFlow warnings when starting Rasa X</p></li>
</ul>
</div>
<div class="section" id="id311">
<h3>Bugfixes<a class="headerlink" href="#id311" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed error <code class="docutils literal notranslate"><span class="pre">Object</span> <span class="pre">of</span> <span class="pre">type</span> <span class="pre">'MaxHistoryTrackerFeaturizer'</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">JSON</span> <span class="pre">serializable</span></code>
when running <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">train</span> <span class="pre">core</span></code></p></li>
<li><p>Default channel <code class="docutils literal notranslate"><span class="pre">send_</span></code> methods no longer support kwargs as they caused issues in incompatible channels</p></li>
</ul>
</div>
</div>
<div class="section" id="id312">
<h2>[1.3.7] - 2019-09-27<a class="headerlink" href="#id312" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id313">
<h3>Bugfixes<a class="headerlink" href="#id313" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>re-added TLS, SRV dependencies for PyMongo</p></li>
<li><p>socketio can now be run without turning on the <code class="docutils literal notranslate"><span class="pre">--enable-api</span></code> flag</p></li>
<li><p>MappingPolicy no longer fails when the latest action doesn’t have a policy</p></li>
</ul>
</div>
</div>
<div class="section" id="id314">
<h2>[1.3.6] - 2019-09-21<a class="headerlink" href="#id314" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id315">
<h3>Features<a class="headerlink" href="#id315" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added the ability for users to specify a conversation id to send a message to when
using the <code class="docutils literal notranslate"><span class="pre">RasaChat</span></code> input channel.</p></li>
</ul>
</div>
</div>
<div class="section" id="id316">
<h2>[1.3.5] - 2019-09-20<a class="headerlink" href="#id316" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id317">
<h3>Bugfixes<a class="headerlink" href="#id317" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed issue where <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">init</span></code> would fail without spaCy being installed</p></li>
</ul>
</div>
</div>
<div class="section" id="id318">
<h2>[1.3.4] - 2019-09-20<a class="headerlink" href="#id318" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id319">
<h3>Features<a class="headerlink" href="#id319" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added the ability to set the <code class="docutils literal notranslate"><span class="pre">backlog</span></code> parameter in Sanics <code class="docutils literal notranslate"><span class="pre">run()</span></code> method using
the <code class="docutils literal notranslate"><span class="pre">SANIC_BACKLOG</span></code> environment variable. This parameter sets the
number of unaccepted connections the server allows before refusing new
connections. A default value of 100 is used if the variable is not set.</p></li>
<li><p>Status endpoint (<code class="docutils literal notranslate"><span class="pre">/status</span></code>) now also returns the number of training processes currently running</p></li>
</ul>
</div>
<div class="section" id="id320">
<h3>Bugfixes<a class="headerlink" href="#id320" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added the ability to properly deal with spaCy <code class="docutils literal notranslate"><span class="pre">Doc</span></code>-objects created on
empty strings as discussed <a class="reference external" href="https://github.com/RasaHQ/rasa/issues/4445">here</a>.
Only training samples that actually bear content are sent to <code class="docutils literal notranslate"><span class="pre">self.nlp.pipe</span></code>
for every given attribute. Non-content-bearing samples are converted to empty
<code class="docutils literal notranslate"><span class="pre">Doc</span></code>-objects. The resulting lists are merged with their preserved order and
properly returned.</p></li>
<li><p>asyncio warnings are now only printed if the callback takes more than 100ms
(up from 1ms).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">agent.load_model_from_server</span></code> no longer affects logging.</p></li>
</ul>
</div>
<div class="section" id="id321">
<h3>Improvements<a class="headerlink" href="#id321" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The endpoint <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/model/train</span></code> no longer supports specifying an output directory
for the trained model using the field <code class="docutils literal notranslate"><span class="pre">out</span></code>. Instead you can choose whether you
want to save the trained model in the default model directory (<code class="docutils literal notranslate"><span class="pre">models</span></code>)
(default behavior) or in a temporary directory by specifying the
<code class="docutils literal notranslate"><span class="pre">save_to_default_model_directory</span></code> field in the training request.</p></li>
</ul>
</div>
</div>
<div class="section" id="id322">
<h2>[1.3.3] - 2019-09-13<a class="headerlink" href="#id322" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id323">
<h3>Bugfixes<a class="headerlink" href="#id323" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added a check to avoid training <code class="docutils literal notranslate"><span class="pre">CountVectorizer</span></code> for a particular
attribute of a message if no text is provided for that attribute across
the training data.</p></li>
<li><p>Default one-hot representation for label featurization inside <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code> if label features don’t exist.</p></li>
<li><p>Policy ensemble no longer incorrectly wrings “missing mapping policy” when
mapping policy is present.</p></li>
<li><p>“text” from <code class="docutils literal notranslate"><span class="pre">utter_custom_json</span></code> now correctly saved to tracker when using telegram channel</p></li>
</ul>
</div>
<div class="section" id="id324">
<h3>Deprecations and Removals<a class="headerlink" href="#id324" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Removed computation of <code class="docutils literal notranslate"><span class="pre">intent_spacy_doc</span></code>. As a result, none of the spacy components process intents now.</p></li>
</ul>
</div>
</div>
<div class="section" id="id325">
<h2>[1.3.2] - 2019-09-10<a class="headerlink" href="#id325" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id326">
<h3>Bugfixes<a class="headerlink" href="#id326" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>SQL tracker events are retrieved ordered by timestamps. This fixes interactive
learning events being shown in the wrong order.</p></li>
</ul>
</div>
</div>
<div class="section" id="id327">
<h2>[1.3.1] - 2019-09-09<a class="headerlink" href="#id327" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id328">
<h3>Improvements<a class="headerlink" href="#id328" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Pin gast to == 0.2.2</p></li>
</ul>
</div>
</div>
<div class="section" id="id329">
<h2>[1.3.0] - 2019-09-05<a class="headerlink" href="#id329" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id330">
<h3>Features<a class="headerlink" href="#id330" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added option to persist nlu training data (default: False)</p></li>
<li><p>option to save stories in e2e format for interactive learning</p></li>
<li><p>bot messages contain the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> of the <code class="docutils literal notranslate"><span class="pre">BotUttered</span></code> event, which can be used in channels</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FallbackPolicy</span></code> can now be configured to trigger when the difference between confidences of two predicted intents is too narrow</p></li>
<li><p>experimental training data importer which supports training with data of multiple
sub bots. Please see the
<a class="reference external" href="https://rasa.com/docs/rasa/api/training-data-importers/">docs</a> for more
information.</p></li>
<li><p>throw error during training when triggers are defined in the domain without
<code class="docutils literal notranslate"><span class="pre">MappingPolicy</span></code> being present in the policy ensemble</p></li>
<li><p>The tracker is now available within the interpreter’s <code class="docutils literal notranslate"><span class="pre">parse</span></code> method, giving the
ability to create interpreter classes that use the tracker state (eg. slot values)
during the parsing of the message. More details on motivation of this change see
issues/3015.</p></li>
<li><p>add example bot <code class="docutils literal notranslate"><span class="pre">knowledgebasebot</span></code> to showcase the usage of <code class="docutils literal notranslate"><span class="pre">ActionQueryKnowledgeBase</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">softmax</span></code> starspace loss for both <code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code> and <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">balanced</span></code> batching strategy for both <code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code> and <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_history</span></code> parameter for <code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code></p></li>
<li><p>Successful predictions of the NER are written to a file if <code class="docutils literal notranslate"><span class="pre">--successes</span></code> is set when running <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span> <span class="pre">nlu</span></code></p></li>
<li><p>Incorrect predictions of the NER are written to a file by default. You can disable it via <code class="docutils literal notranslate"><span class="pre">--no-errors</span></code>.</p></li>
<li><p>New NLU component <code class="docutils literal notranslate"><span class="pre">ResponseSelector</span></code> added for the task of response selection</p></li>
<li><p>Message data attribute can contain two more keys - <code class="docutils literal notranslate"><span class="pre">response_key</span></code>, <code class="docutils literal notranslate"><span class="pre">response</span></code> depending on the training data</p></li>
<li><p>New action type implemented by <code class="docutils literal notranslate"><span class="pre">ActionRetrieveResponse</span></code> class and identified with <code class="docutils literal notranslate"><span class="pre">response_</span></code> prefix</p></li>
<li><p>Vocabulary sharing inside <code class="docutils literal notranslate"><span class="pre">CountVectorsFeaturizer</span></code> with <code class="docutils literal notranslate"><span class="pre">use_shared_vocab</span></code> flag. If set to True, vocabulary of corpus is shared between text, intent and response attributes of message</p></li>
<li><p>Added an option to share the hidden layer weights of text input and label input inside <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code> using the flag <code class="docutils literal notranslate"><span class="pre">share_hidden_layers</span></code></p></li>
<li><p>New type of training data file in NLU which stores response phrases for response selection task.</p></li>
<li><p>Add flag <code class="docutils literal notranslate"><span class="pre">intent_split_symbol</span></code> and <code class="docutils literal notranslate"><span class="pre">intent_tokenization_flag</span></code> to all <code class="docutils literal notranslate"><span class="pre">WhitespaceTokenizer</span></code>, <code class="docutils literal notranslate"><span class="pre">JiebaTokenizer</span></code> and <code class="docutils literal notranslate"><span class="pre">SpacyTokenizer</span></code></p></li>
<li><p>Added evaluation for response selector. Creates a report <code class="docutils literal notranslate"><span class="pre">response_selection_report.json</span></code> inside <code class="docutils literal notranslate"><span class="pre">--out</span></code> directory.</p></li>
<li><p>argument <code class="docutils literal notranslate"><span class="pre">--config-endpoint</span></code> to specify the URL from which <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">x</span></code> pulls
the runtime configuration (endpoints and credentials)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LockStore</span></code> class storing instances of <code class="docutils literal notranslate"><span class="pre">TicketLock</span></code> for every <code class="docutils literal notranslate"><span class="pre">conversation_id</span></code></p></li>
<li><p>environment variables <code class="docutils literal notranslate"><span class="pre">SQL_POOL_SIZE</span></code> (default: 50) and <code class="docutils literal notranslate"><span class="pre">SQL_MAX_OVERFLOW</span></code>
(default: 100) can be set to control the pool size and maximum pool overflow for
<code class="docutils literal notranslate"><span class="pre">SQLTrackerStore</span></code> when used with the <code class="docutils literal notranslate"><span class="pre">postgresql</span></code> dialect</p></li>
<li><p>Add a <cite>bot_challenge</cite> intent and a <cite>utter_iamabot</cite> action to all example projects and the rasa init bot.</p></li>
<li><p>Allow sending attachments when using the socketio channel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">data</span> <span class="pre">validate</span></code> will fail with a non-zero exit code if validation fails</p></li>
</ul>
</div>
<div class="section" id="id331">
<h3>Improvements<a class="headerlink" href="#id331" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>added character-level <code class="docutils literal notranslate"><span class="pre">CountVectorsFeaturizer</span></code> with empirically found parameters
into the <code class="docutils literal notranslate"><span class="pre">supervised_embeddings</span></code> NLU pipeline template</p></li>
<li><p>NLU evaluations now also stores its output in the output directory like the core evaluation</p></li>
<li><p>show warning in case a default path is used instead of a provided, invalid path</p></li>
<li><p>compare mode of <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">train</span> <span class="pre">core</span></code> allows the whole core config comparison,
naming style of models trained for comparison is changed (this is a breaking change)</p></li>
<li><p>pika keeps a single connection open, instead of open and closing on each incoming event</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RasaChatInput</span></code> fetches the public key from the Rasa X API. The key is used to
decode the bearer token containing the conversation ID. This requires
<code class="docutils literal notranslate"><span class="pre">rasa-x&gt;=0.20.2</span></code>.</p></li>
<li><p>more specific exception message when loading custom components depending on whether component’s path or
class name is invalid or can’t be found in the global namespace</p></li>
<li><p>change priorities so that the <code class="docutils literal notranslate"><span class="pre">MemoizationPolicy</span></code> has higher priority than the <code class="docutils literal notranslate"><span class="pre">MappingPolicy</span></code></p></li>
<li><p>substitute LSTM with Transformer in <code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code> can now use <code class="docutils literal notranslate"><span class="pre">MaxHistoryTrackerFeaturizer</span></code></p></li>
<li><p>non zero <code class="docutils literal notranslate"><span class="pre">evaluate_on_num_examples</span></code> in <code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code>
and <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code> is the size of
hold out validation set that is excluded from training data</p></li>
<li><p>defaults parameters and architectures for both <code class="docutils literal notranslate"><span class="pre">EmbeddingPolicy</span></code> and
<code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code> are changed (this is a breaking change)</p></li>
<li><p>evaluation of NER does not include ‘no-entity’ anymore</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--successes</span></code> for <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span> <span class="pre">nlu</span></code> is now boolean values. If set incorrect/successful predictions
are saved in a file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--errors</span></code> is renamed to <code class="docutils literal notranslate"><span class="pre">--no-errors</span></code> and is now a boolean value. By default incorrect predictions are saved
in a file. If <code class="docutils literal notranslate"><span class="pre">--no-errors</span></code> is set predictions are not written to a file.</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">label_tokenization_flag</span></code> and <code class="docutils literal notranslate"><span class="pre">label_split_symbol</span></code> from <code class="docutils literal notranslate"><span class="pre">EmbeddingIntentClassifier</span></code>. Instead move these parameters to <code class="docutils literal notranslate"><span class="pre">Tokenizers</span></code>.</p></li>
<li><p>Process features of all attributes of a message, i.e. - text, intent and response inside the respective component itself. For e.g. - intent of a message is now tokenized inside the tokenizer itself.</p></li>
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">as_markdown</span></code> and <code class="docutils literal notranslate"><span class="pre">as_json</span></code> in favour of <code class="docutils literal notranslate"><span class="pre">nlu_as_markdown</span></code> and <code class="docutils literal notranslate"><span class="pre">nlu_as_json</span></code> respectively.</p></li>
<li><p>pin python-engineio &gt;= 3.9.3</p></li>
<li><p>update python-socketio req to &gt;= 4.3.1</p></li>
</ul>
</div>
<div class="section" id="id332">
<h3>Bugfixes<a class="headerlink" href="#id332" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span> <span class="pre">nlu</span></code> with a folder of configuration files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MappingPolicy</span></code> standard featurizer is set to <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">text</span></code> parameter from send_attachment function in slack.py to avoid duplication of text output to slackbot</p></li>
<li><p>server <code class="docutils literal notranslate"><span class="pre">/status</span></code> endpoint reports status when an NLU-only model is loaded</p></li>
</ul>
</div>
<div class="section" id="id333">
<h3>Deprecations and Removals<a class="headerlink" href="#id333" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">--report</span></code> argument from <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span> <span class="pre">nlu</span></code>. All output files are stored in the <code class="docutils literal notranslate"><span class="pre">--out</span></code> directory.</p></li>
</ul>
</div>
</div>
<div class="section" id="id334">
<h2>[1.2.12] - 2019-10-16<a class="headerlink" href="#id334" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id335">
<h3>Features<a class="headerlink" href="#id335" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Support for transit encryption with Redis via <code class="docutils literal notranslate"><span class="pre">use_ssl:</span> <span class="pre">True</span></code> in the tracker store config in endpoints.yml</p></li>
</ul>
</div>
</div>
<div class="section" id="id336">
<h2>[1.2.11] - 2019-10-09<a class="headerlink" href="#id336" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id337">
<h3>Features<a class="headerlink" href="#id337" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Support for passing a CA file for SSL certificate verification via the
–ssl-ca-file flag</p></li>
</ul>
</div>
</div>
<div class="section" id="id338">
<h2>[1.2.10] - 2019-10-08<a class="headerlink" href="#id338" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id339">
<h3>Features<a class="headerlink" href="#id339" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added support for RabbitMQ TLS authentication. The following environment variables
need to be set:
<code class="docutils literal notranslate"><span class="pre">RABBITMQ_SSL_CLIENT_CERTIFICATE</span></code> - path to the SSL client certificate (required)
<code class="docutils literal notranslate"><span class="pre">RABBITMQ_SSL_CLIENT_KEY</span></code> - path to the SSL client key (required)
<code class="docutils literal notranslate"><span class="pre">RABBITMQ_SSL_CA_FILE</span></code> - path to the SSL CA file (optional, for certificate
verification)
<code class="docutils literal notranslate"><span class="pre">RABBITMQ_SSL_KEY_PASSWORD</span></code> - SSL private key password (optional)</p></li>
<li><p>Added ability to define the RabbitMQ port using the <code class="docutils literal notranslate"><span class="pre">port</span></code> key in the
<code class="docutils literal notranslate"><span class="pre">event_broker</span></code> endpoint config.</p></li>
</ul>
</div>
</div>
<div class="section" id="id340">
<h2>[1.2.9] - 2019-09-17<a class="headerlink" href="#id340" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id341">
<h3>Bugfixes<a class="headerlink" href="#id341" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Correctly pass SSL flag values to x CLI command (backport of</p></li>
</ul>
</div>
</div>
<div class="section" id="id342">
<h2>[1.2.8] - 2019-09-10<a class="headerlink" href="#id342" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id343">
<h3>Bugfixes<a class="headerlink" href="#id343" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>SQL tracker events are retrieved ordered by timestamps. This fixes interactive
learning events being shown in the wrong order. Backport of <code class="docutils literal notranslate"><span class="pre">1.3.2</span></code> patch
(PR #4427).</p></li>
</ul>
</div>
</div>
<div class="section" id="id344">
<h2>[1.2.7] - 2019-09-02<a class="headerlink" href="#id344" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id345">
<h3>Bugfixes<a class="headerlink" href="#id345" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">query</span></code> dictionary argument to <code class="docutils literal notranslate"><span class="pre">SQLTrackerStore</span></code> which will be appended
to the SQL connection URL as query parameters.</p></li>
</ul>
</div>
</div>
<div class="section" id="id346">
<h2>[1.2.6] - 2019-09-02<a class="headerlink" href="#id346" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id347">
<h3>Bugfixes<a class="headerlink" href="#id347" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>fixed bug that occurred when sending template <code class="docutils literal notranslate"><span class="pre">elements</span></code> through a channel that doesn’t support them</p></li>
</ul>
</div>
</div>
<div class="section" id="id348">
<h2>[1.2.5] - 2019-08-26<a class="headerlink" href="#id348" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id349">
<h3>Features<a class="headerlink" href="#id349" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>SSL support for <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">run</span></code> command. Certificate can be specified using
<code class="docutils literal notranslate"><span class="pre">--ssl-certificate</span></code> and <code class="docutils literal notranslate"><span class="pre">--ssl-keyfile</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id350">
<h3>Bugfixes<a class="headerlink" href="#id350" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>made default augmentation value consistent across repo</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'/restart'</span></code> will now also restart the bot if the tracker is paused</p></li>
</ul>
</div>
</div>
<div class="section" id="id351">
<h2>[1.2.4] - 2019-08-23<a class="headerlink" href="#id351" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id352">
<h3>Bugfixes<a class="headerlink" href="#id352" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">SocketIO</span></code> input channel now allows accesses from other origins
(fixes <code class="docutils literal notranslate"><span class="pre">SocketIO</span></code> channel on Rasa X)</p></li>
</ul>
</div>
</div>
<div class="section" id="id353">
<h2>[1.2.3] - 2019-08-15<a class="headerlink" href="#id353" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id354">
<h3>Improvements<a class="headerlink" href="#id354" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>messages with multiple entities are now handled properly with e2e evaluation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data/test_evaluations/end_to_end_story.md</span></code> was re-written in the
restaurantbot domain</p></li>
</ul>
</div>
</div>
<div class="section" id="id355">
<h2>[1.2.3] - 2019-08-15<a class="headerlink" href="#id355" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id356">
<h3>Improvements<a class="headerlink" href="#id356" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>messages with multiple entities are now handled properly with e2e evaluation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data/test_evaluations/end_to_end_story.md</span></code> was re-written in the restaurantbot domain</p></li>
</ul>
</div>
<div class="section" id="id357">
<h3>Bugfixes<a class="headerlink" href="#id357" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Free text input was not allowed in the Rasa shell when the response template
contained buttons, which has now been fixed.</p></li>
</ul>
</div>
</div>
<div class="section" id="id358">
<h2>[1.2.2] - 2019-08-07<a class="headerlink" href="#id358" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id359">
<h3>Bugfixes<a class="headerlink" href="#id359" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UserUttered</span></code> events always got the same timestamp</p></li>
</ul>
</div>
</div>
<div class="section" id="id360">
<h2>[1.2.1] - 2019-08-06<a class="headerlink" href="#id360" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id361">
<h3>Features<a class="headerlink" href="#id361" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Docs now have an <code class="docutils literal notranslate"><span class="pre">EDIT</span> <span class="pre">THIS</span> <span class="pre">PAGE</span></code> button</p></li>
</ul>
</div>
<div class="section" id="id362">
<h3>Bugfixes<a class="headerlink" href="#id362" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Flood</span> <span class="pre">control</span> <span class="pre">exceeded</span></code> error in Telegram connector which happened because the
webhook was set twice</p></li>
</ul>
</div>
</div>
<div class="section" id="id363">
<h2>[1.2.0] - 2019-08-01<a class="headerlink" href="#id363" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id364">
<h3>Features<a class="headerlink" href="#id364" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>add root route to server started without <code class="docutils literal notranslate"><span class="pre">--enable-api</span></code> parameter</p></li>
<li><p>add <code class="docutils literal notranslate"><span class="pre">--evaluate-model-directory</span></code> to <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span> <span class="pre">core</span></code> to evaluate models
from <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">train</span> <span class="pre">core</span> <span class="pre">-c</span> <span class="pre">&lt;config-1&gt;</span> <span class="pre">&lt;config-2&gt;</span></code></p></li>
<li><p>option to send messages to the user by calling
<code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/conversations/{conversation_id}/execute</span></code></p></li>
</ul>
</div>
<div class="section" id="id365">
<h3>Improvements<a class="headerlink" href="#id365" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Agent.update_model()</span></code> and <code class="docutils literal notranslate"><span class="pre">Agent.handle_message()</span></code> now work without needing to set a domain
or a policy ensemble</p></li>
<li><p>Update pytype to <code class="docutils literal notranslate"><span class="pre">2019.7.11</span></code></p></li>
<li><p>new event broker class: <code class="docutils literal notranslate"><span class="pre">SQLProducer</span></code>. This event broker is now used when running locally with
Rasa X</p></li>
<li><p>API requests are not longer logged to <code class="docutils literal notranslate"><span class="pre">rasa_core.log</span></code> by default in order to avoid
problems when running on OpenShift (use <code class="docutils literal notranslate"><span class="pre">--log-file</span> <span class="pre">rasa_core.log</span></code> to retain the
old behavior)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata</span></code> attribute added to <code class="docutils literal notranslate"><span class="pre">UserMessage</span></code></p></li>
</ul>
</div>
<div class="section" id="id366">
<h3>Bugfixes<a class="headerlink" href="#id366" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span> <span class="pre">core</span></code> can handle compressed model files</p></li>
<li><p>rasa can handle story files containing multi line comments</p></li>
<li><p>template will retain <cite>{</cite> if escaped with <cite>{</cite>. e.g. <cite>{{“foo”: {bar}}}</cite> will result in <cite>{“foo”: “replaced value”}</cite></p></li>
</ul>
</div>
</div>
<div class="section" id="id367">
<h2>[1.1.8] - 2019-07-25<a class="headerlink" href="#id367" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id368">
<h3>Features<a class="headerlink" href="#id368" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TrainingFileImporter</span></code> interface to support customizing the process of loading
training data</p></li>
<li><p>fill slots for custom templates</p></li>
</ul>
</div>
<div class="section" id="id369">
<h3>Improvements<a class="headerlink" href="#id369" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Agent.update_model()</span></code> and <code class="docutils literal notranslate"><span class="pre">Agent.handle_message()</span></code> now work without needing to set a domain
or a policy ensemble</p></li>
<li><p>update pytype to <code class="docutils literal notranslate"><span class="pre">2019.7.11</span></code></p></li>
</ul>
</div>
<div class="section" id="id370">
<h3>Bugfixes<a class="headerlink" href="#id370" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>interactive learning bug where reverted user utterances were dumped to training data</p></li>
<li><p>added timeout to terminal input channel to avoid freezing input in case of server
errors</p></li>
<li><p>fill slots for image, buttons, quick_replies and attachments in templates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">train</span> <span class="pre">core</span></code> in comparison mode stores the model files compressed (<code class="docutils literal notranslate"><span class="pre">tar.gz</span></code> files)</p></li>
<li><p>slot setting in interactive learning with the TwoStageFallbackPolicy</p></li>
</ul>
</div>
</div>
<div class="section" id="id371">
<h2>[1.1.7] - 2019-07-18<a class="headerlink" href="#id371" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id372">
<h3>Features<a class="headerlink" href="#id372" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>added optional pymongo dependencies <code class="docutils literal notranslate"><span class="pre">[tls,</span> <span class="pre">srv]</span></code> to <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> for better mongodb support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">case_sensitive</span></code> option added to <code class="docutils literal notranslate"><span class="pre">WhiteSpaceTokenizer</span></code> with <code class="docutils literal notranslate"><span class="pre">true</span></code> as default.</p></li>
</ul>
</div>
<div class="section" id="id373">
<h3>Bugfixes<a class="headerlink" href="#id373" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>validation no longer throws an error during interactive learning</p></li>
<li><p>fixed wrong cleaning of <code class="docutils literal notranslate"><span class="pre">use_entities</span></code> in case it was a list and not <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p>updated the server endpoint <code class="docutils literal notranslate"><span class="pre">/model/parse</span></code> to handle also messages with the intent prefix</p></li>
<li><p>fixed bug where “No model found” message appeared after successfully running the bot</p></li>
<li><p>debug logs now print to <code class="docutils literal notranslate"><span class="pre">rasa_core.log</span></code> when running <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">x</span> <span class="pre">-vv</span></code> or <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">run</span> <span class="pre">-vv</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="id374">
<h2>[1.1.6] - 2019-07-12<a class="headerlink" href="#id374" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id375">
<h3>Features<a class="headerlink" href="#id375" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>rest channel supports setting a message’s input_channel through a field
<code class="docutils literal notranslate"><span class="pre">input_channel</span></code> in the request body</p></li>
</ul>
</div>
<div class="section" id="id376">
<h3>Improvements<a class="headerlink" href="#id376" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>recommended syntax for empty <code class="docutils literal notranslate"><span class="pre">use_entities</span></code> and <code class="docutils literal notranslate"><span class="pre">ignore_entities</span></code> in the domain file
has been updated from <code class="docutils literal notranslate"><span class="pre">False</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code> to an empty list (<code class="docutils literal notranslate"><span class="pre">[]</span></code>)</p></li>
</ul>
</div>
<div class="section" id="id377">
<h3>Bugfixes<a class="headerlink" href="#id377" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">run</span></code> without <code class="docutils literal notranslate"><span class="pre">--enable-api</span></code> does not require a local model anymore</p></li>
<li><p>using <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">run</span></code> with <code class="docutils literal notranslate"><span class="pre">--enable-api</span></code> to run a server now prints
“running Rasa server” instead of “running Rasa Core server”</p></li>
<li><p>actions, intents, and utterances created in <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">interactive</span></code> can no longer be empty</p></li>
</ul>
</div>
</div>
<div class="section" id="id378">
<h2>[1.1.5] - 2019-07-10<a class="headerlink" href="#id378" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id379">
<h3>Features<a class="headerlink" href="#id379" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>debug logging now tells you which tracker store is connected</p></li>
<li><p>the response of <code class="docutils literal notranslate"><span class="pre">/model/train</span></code> now includes a response header for the trained model filename</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Validator</span></code> class to help developing by checking if the files have any errors</p></li>
<li><p>project’s code is now linted using flake8</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">info</span></code> log when credentials were provided for multiple channels and channel in
<code class="docutils literal notranslate"><span class="pre">--connector</span></code> argument was specified at the same time</p></li>
<li><p>validate export paths in interactive learning</p></li>
</ul>
</div>
<div class="section" id="id380">
<h3>Improvements<a class="headerlink" href="#id380" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>deprecate <code class="docutils literal notranslate"><span class="pre">rasa.core.agent.handle_channels(...)`.</span> <span class="pre">Please</span> <span class="pre">use</span> <span class="pre">``rasa.run(...)</span></code>
or <code class="docutils literal notranslate"><span class="pre">rasa.core.run.configure_app</span></code> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Agent.load()</span></code> also accepts <code class="docutils literal notranslate"><span class="pre">tar.gz</span></code> model file</p></li>
</ul>
</div>
<div class="section" id="id381">
<h3>Deprecations and Removals<a class="headerlink" href="#id381" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>revert the stripping of trailing slashes in endpoint URLs since this can lead to
problems in case the trailing slash is actually wanted</p></li>
<li><p>starter packs were removed from Github and are therefore no longer tested by Travis script</p></li>
</ul>
</div>
<div class="section" id="id382">
<h3>Bugfixes<a class="headerlink" href="#id382" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>all temporal model files are now deleted after stopping the Rasa server</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">shell</span> <span class="pre">nlu</span></code> now outputs unicode characters instead of <code class="docutils literal notranslate"><span class="pre">\uxxxx</span></code> codes</p></li>
<li><p>fixed PUT /model with model_server by deserializing the model_server to
EndpointConfig.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">AnySlotDict</span></code> is now <code class="docutils literal notranslate"><span class="pre">True</span></code> for any <code class="docutils literal notranslate"><span class="pre">x</span></code>, which fixes empty slot warnings in
interactive learning</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">train</span></code> now also includes NLU files in other formats than the Rasa format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">train</span> <span class="pre">core</span></code> no longer crashes without a <code class="docutils literal notranslate"><span class="pre">--domain</span></code> arg</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">interactive</span></code> now looks for endpoints in <code class="docutils literal notranslate"><span class="pre">endpoints.yml</span></code> if no <code class="docutils literal notranslate"><span class="pre">--endpoints</span></code> arg is passed</p></li>
<li><p>custom files, e.g. custom components and channels, load correctly when using
the command line interface</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MappingPolicy</span></code> now works correctly when used as part of a PolicyEnsemble</p></li>
</ul>
</div>
</div>
<div class="section" id="id383">
<h2>[1.1.4] - 2019-06-18<a class="headerlink" href="#id383" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id384">
<h3>Features<a class="headerlink" href="#id384" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>unfeaturize single entities</p></li>
<li><p>added agent readiness check to the <code class="docutils literal notranslate"><span class="pre">/status</span></code> resource</p></li>
</ul>
</div>
<div class="section" id="id385">
<h3>Improvements<a class="headerlink" href="#id385" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>removed leading underscore from name of ‘_create_initial_project’ function.</p></li>
</ul>
</div>
<div class="section" id="id386">
<h3>Bugfixes<a class="headerlink" href="#id386" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>fixed bug where facebook quick replies were not rendering</p></li>
<li><p>take FB quick reply payload rather than text as input</p></li>
<li><p>fixed bug where <cite>training_data</cite> path in <cite>metadata.json</cite> was an absolute path</p></li>
</ul>
</div>
</div>
<div class="section" id="id387">
<h2>[1.1.3] - 2019-06-14<a class="headerlink" href="#id387" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id388">
<h3>Bugfixes<a class="headerlink" href="#id388" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>fixed any inconsistent type annotations in code and some bugs revealed by
type checker</p></li>
</ul>
</div>
</div>
<div class="section" id="id389">
<h2>[1.1.2] - 2019-06-13<a class="headerlink" href="#id389" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id390">
<h3>Bugfixes<a class="headerlink" href="#id390" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>fixed duplicate events appearing in tracker when using a PostgreSQL tracker store</p></li>
</ul>
</div>
</div>
<div class="section" id="id391">
<h2>[1.1.1] - 2019-06-13<a class="headerlink" href="#id391" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id392">
<h3>Bugfixes<a class="headerlink" href="#id392" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>fixed compatibility with Rasa SDK</p></li>
<li><p>bot responses can contain <code class="docutils literal notranslate"><span class="pre">custom</span></code> messages besides other message types</p></li>
</ul>
</div>
</div>
<div class="section" id="id393">
<h2>[1.1.0] - 2019-06-13<a class="headerlink" href="#id393" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id394">
<h3>Features<a class="headerlink" href="#id394" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>nlu configs can now be directly compared for performance on a dataset
in <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span> <span class="pre">nlu</span></code></p></li>
</ul>
</div>
<div class="section" id="id395">
<h3>Improvements<a class="headerlink" href="#id395" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>update the tracker in interactive learning through reverting and appending events
instead of replacing the tracker</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/conversations/{conversation_id}/tracker/events</span></code> supports a list of events</p></li>
</ul>
</div>
<div class="section" id="id396">
<h3>Bugfixes<a class="headerlink" href="#id396" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>fixed creation of <code class="docutils literal notranslate"><span class="pre">RasaNLUHttpInterpreter</span></code></p></li>
<li><p>form actions are included in domain warnings</p></li>
<li><p>default actions, which are overriden by custom actions and are listed in the
domain are excluded from domain warnings</p></li>
<li><p>SQL <code class="docutils literal notranslate"><span class="pre">data</span></code> column type to <code class="docutils literal notranslate"><span class="pre">Text</span></code> for compatibility with MySQL</p></li>
<li><p>non-featurizer training parameters don’t break <cite>SklearnPolicy</cite> anymore</p></li>
</ul>
</div>
</div>
<div class="section" id="id397">
<h2>[1.0.9] - 2019-06-10<a class="headerlink" href="#id397" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id398">
<h3>Improvements<a class="headerlink" href="#id398" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>revert PR #3739 (as this is a breaking change): set <code class="docutils literal notranslate"><span class="pre">PikaProducer</span></code> and
<code class="docutils literal notranslate"><span class="pre">KafkaProducer</span></code> default queues back to <code class="docutils literal notranslate"><span class="pre">rasa_core_events</span></code></p></li>
</ul>
</div>
</div>
<div class="section" id="id399">
<h2>[1.0.8] - 2019-06-10<a class="headerlink" href="#id399" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id400">
<h3>Features<a class="headerlink" href="#id400" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>support for specifying full database urls in the <code class="docutils literal notranslate"><span class="pre">SQLTrackerStore</span></code> configuration</p></li>
<li><p>maximum number of predictions can be set via the environment variable
<code class="docutils literal notranslate"><span class="pre">MAX_NUMBER_OF_PREDICTIONS</span></code> (default is 10)</p></li>
</ul>
</div>
<div class="section" id="id401">
<h3>Improvements<a class="headerlink" href="#id401" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>default <code class="docutils literal notranslate"><span class="pre">PikaProducer</span></code> and <code class="docutils literal notranslate"><span class="pre">KafkaProducer</span></code> queues to <code class="docutils literal notranslate"><span class="pre">rasa_production_events</span></code></p></li>
<li><p>exclude unfeaturized slots from domain warnings</p></li>
</ul>
</div>
<div class="section" id="id402">
<h3>Bugfixes<a class="headerlink" href="#id402" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>loading of additional training data with the <code class="docutils literal notranslate"><span class="pre">SkillSelector</span></code></p></li>
<li><p>strip trailing slashes in endpoint URLs</p></li>
</ul>
</div>
</div>
<div class="section" id="id403">
<h2>[1.0.7] - 2019-06-06<a class="headerlink" href="#id403" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id404">
<h3>Features<a class="headerlink" href="#id404" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>added argument <code class="docutils literal notranslate"><span class="pre">--rasa-x-port</span></code> to specify the port of Rasa X when running Rasa X locally via <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">x</span></code></p></li>
</ul>
</div>
<div class="section" id="id405">
<h3>Bugfixes<a class="headerlink" href="#id405" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>slack notifications from bots correctly render text</p></li>
<li><p>fixed usage of <code class="docutils literal notranslate"><span class="pre">--log-file</span></code> argument for <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">run</span></code> and <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">shell</span></code></p></li>
<li><p>check if correct tracker store is configured in local mode</p></li>
</ul>
</div>
</div>
<div class="section" id="id406">
<h2>[1.0.6] - 2019-06-03<a class="headerlink" href="#id406" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id407">
<h3>Bugfixes<a class="headerlink" href="#id407" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>fixed backwards incompatible utils changes</p></li>
</ul>
</div>
</div>
<div class="section" id="id408">
<h2>[1.0.5] - 2019-06-03<a class="headerlink" href="#id408" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id409">
<h3>Bugfixes<a class="headerlink" href="#id409" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>fixed spacy being a required dependency (regression)</p></li>
</ul>
</div>
</div>
<div class="section" id="id410">
<h2>[1.0.4] - 2019-06-03<a class="headerlink" href="#id410" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id411">
<h3>Features<a class="headerlink" href="#id411" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>automatic creation of index on the <code class="docutils literal notranslate"><span class="pre">sender_id</span></code> column when using an SQL
tracker store. If you have an existing data and you are running into performance
issues, please make sure to add an index manually using
<code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">INDEX</span> <span class="pre">event_idx_sender_id</span> <span class="pre">ON</span> <span class="pre">events</span> <span class="pre">(sender_id);</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id412">
<h3>Improvements<a class="headerlink" href="#id412" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>NLU evaluation in cross-validation mode now also provides intent/entity reports,
confusion matrix, etc.</p></li>
</ul>
</div>
</div>
<div class="section" id="id413">
<h2>[1.0.3] - 2019-05-30<a class="headerlink" href="#id413" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id414">
<h3>Bugfixes<a class="headerlink" href="#id414" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>non-ascii characters render correctly in stories generated from interactive learning</p></li>
<li><p>validate domain file before usage, e.g. print proper error messages if domain file
is invalid instead of raising errors</p></li>
</ul>
</div>
</div>
<div class="section" id="id415">
<h2>[1.0.2] - 2019-05-29<a class="headerlink" href="#id415" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id416">
<h3>Features<a class="headerlink" href="#id416" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>added <code class="docutils literal notranslate"><span class="pre">domain_warnings()</span></code> method to <code class="docutils literal notranslate"><span class="pre">Domain</span></code> which returns a dict containing the
diff between supplied {actions, intents, entities, slots} and what’s contained in the
domain</p></li>
</ul>
</div>
<div class="section" id="id417">
<h3>Bugfixes<a class="headerlink" href="#id417" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>fix lookup table files failed to load issues/3622</p></li>
<li><p>buttons can now be properly selected during cmdline chat or when in interactive learning</p></li>
<li><p>set slots correctly when events are added through the API</p></li>
<li><p>mapping policy no longer ignores NLU threshold</p></li>
<li><p>mapping policy priority is correctly persisted</p></li>
</ul>
</div>
</div>
<div class="section" id="id418">
<h2>[1.0.1] - 2019-05-21<a class="headerlink" href="#id418" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id419">
<h3>Bugfixes<a class="headerlink" href="#id419" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>updated installation command in docs for Rasa X</p></li>
</ul>
</div>
</div>
<div class="section" id="id420">
<h2>[1.0.0] - 2019-05-21<a class="headerlink" href="#id420" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id421">
<h3>Features<a class="headerlink" href="#id421" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>added arguments to set the file paths for interactive training</p></li>
<li><p>added quick reply representation for command-line output</p></li>
<li><p>added option to specify custom button type for Facebook buttons</p></li>
<li><p>added tracker store persisting trackers into a SQL database
(<code class="docutils literal notranslate"><span class="pre">SQLTrackerStore</span></code>)</p></li>
<li><p>added rasa command line interface and API</p></li>
<li><p>Rasa  HTTP training endpoint at <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/jobs</span></code>. This endpoint
will train a combined Rasa Core and NLU model</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ReminderCancelled(action_name)</span></code> event to cancel given action_name reminder
for current user</p></li>
<li><p>Rasa HTTP intent evaluation endpoint at <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/intentEvaluation</span></code>.
This endpoints performs an intent evaluation of a Rasa model</p></li>
<li><p>option to create template for new utterance action in <code class="docutils literal notranslate"><span class="pre">interactive</span> <span class="pre">learning</span></code></p></li>
<li><p>you can now choose actions previously created in the same session
in <code class="docutils literal notranslate"><span class="pre">interactive</span> <span class="pre">learning</span></code></p></li>
<li><p>add formatter ‘black’</p></li>
<li><p>channel-specific utterances via the <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">&quot;channel&quot;:</span></code> key in utterance templates</p></li>
<li><p>arbitrary json messages via the <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">&quot;custom&quot;:</span></code> key in utterance templates and
via <code class="docutils literal notranslate"><span class="pre">utter_custom_json()</span></code> method in custom actions</p></li>
<li><p>support to load sub skills (domain, stories, nlu data)</p></li>
<li><p>support to select which sub skills to load through <code class="docutils literal notranslate"><span class="pre">import</span></code> section in
<code class="docutils literal notranslate"><span class="pre">config.yml</span></code></p></li>
<li><p>support for spaCy 2.1</p></li>
<li><p>a model for an agent can now also be loaded from a remote storage</p></li>
<li><p>log level can be set via environment variable <code class="docutils literal notranslate"><span class="pre">LOG_LEVEL</span></code></p></li>
<li><p>add <code class="docutils literal notranslate"><span class="pre">--store-uncompressed</span></code> to train command to not compress Rasa model</p></li>
<li><p>log level of libraries, such as tensorflow, can be set via environment variable <code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_LIBRARIES</span></code></p></li>
<li><p>if no spaCy model is linked upon building a spaCy pipeline, an appropriate error message
is now raised with instructions for linking one</p></li>
</ul>
</div>
<div class="section" id="id422">
<h3>Improvements<a class="headerlink" href="#id422" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>renamed all CLI parameters containing any <code class="docutils literal notranslate"><span class="pre">_</span></code> to use dashes <code class="docutils literal notranslate"><span class="pre">-</span></code> instead (GNU standard)</p></li>
<li><p>renamed <code class="docutils literal notranslate"><span class="pre">rasa_core</span></code> package to <code class="docutils literal notranslate"><span class="pre">rasa.core</span></code></p></li>
<li><p>for interactive learning only include manually annotated and ner_crf entities in nlu export</p></li>
<li><p>made <code class="docutils literal notranslate"><span class="pre">message_id</span></code> an additional argument to <code class="docutils literal notranslate"><span class="pre">interpreter.parse</span></code></p></li>
<li><p>changed removing punctuation logic in <code class="docutils literal notranslate"><span class="pre">WhitespaceTokenizer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">training_processes</span></code> in the Rasa NLU data router have been renamed to <code class="docutils literal notranslate"><span class="pre">worker_processes</span></code></p></li>
<li><p>created a common utils package <code class="docutils literal notranslate"><span class="pre">rasa.utils</span></code> for nlu and core, common methods like <code class="docutils literal notranslate"><span class="pre">read_yaml</span></code> moved there</p></li>
<li><p>removed <code class="docutils literal notranslate"><span class="pre">--num_threads</span></code> from run command (server will be asynchronous but
running in a single thread)</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">_check_token()</span></code> method in <code class="docutils literal notranslate"><span class="pre">RasaChat</span></code> now authenticates against <code class="docutils literal notranslate"><span class="pre">/auth/verify</span></code> instead of <code class="docutils literal notranslate"><span class="pre">/user</span></code></p></li>
<li><p>removed <code class="docutils literal notranslate"><span class="pre">--pre_load</span></code> from run command (Rasa NLU server will just have a maximum of one model and that model will be
loaded by default)</p></li>
<li><p>changed file format of a stored trained model from the Rasa NLU server to <code class="docutils literal notranslate"><span class="pre">tar.gz</span></code></p></li>
<li><p>train command uses fallback config if an invalid config is given</p></li>
<li><p>test command now compares multiple models if a list of model files is provided for the argument <code class="docutils literal notranslate"><span class="pre">--model</span></code></p></li>
<li><p>Merged rasa.core and rasa.nlu server into a single server. See swagger file in <code class="docutils literal notranslate"><span class="pre">docs/_static/spec/server.yaml</span></code> for
available endpoints.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">utter_custom_message()</span></code> method in rasa_core_sdk has been renamed to <code class="docutils literal notranslate"><span class="pre">utter_elements()</span></code></p></li>
<li><p>updated dependencies. as part of this, models for spacy need to be reinstalled
for 2.1 (from 2.0)</p></li>
<li><p>make sure all command line arguments for <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span></code> and <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">interactive</span></code> are actually used, removed arguments
that were not used at all (e.g. <code class="docutils literal notranslate"><span class="pre">--core</span></code> for <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">test</span></code>)</p></li>
</ul>
</div>
<div class="section" id="id423">
<h3>Deprecations and Removals<a class="headerlink" href="#id423" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>removed possibility to execute <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">rasa_core.train</span></code> etc. (e.g. scripts in <code class="docutils literal notranslate"><span class="pre">rasa.core</span></code> and <code class="docutils literal notranslate"><span class="pre">rasa.nlu</span></code>).
Use the CLI for rasa instead, e.g. <code class="docutils literal notranslate"><span class="pre">rasa</span> <span class="pre">train</span> <span class="pre">core</span></code>.</p></li>
<li><p>removed <code class="docutils literal notranslate"><span class="pre">_sklearn_numpy_warning_fix</span></code> from the <code class="docutils literal notranslate"><span class="pre">SklearnIntentClassifier</span></code></p></li>
<li><p>removed <code class="docutils literal notranslate"><span class="pre">Dispatcher</span></code> class from core</p></li>
<li><p>removed projects: the Rasa NLU server now has a maximum of one model at a time loaded.</p></li>
</ul>
</div>
<div class="section" id="id424">
<h3>Bugfixes<a class="headerlink" href="#id424" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>evaluating core stories with two stage fallback gave an error, trying to handle None for a policy</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">/evaluate</span></code> route for the Rasa NLU server now runs evaluation
in a parallel process, which prevents the currently loaded model unloading</p></li>
<li><p>added missing implementation of the <code class="docutils literal notranslate"><span class="pre">keys()</span></code> function for the Redis Tracker
Store</p></li>
<li><p>in interactive learning: only updates entity values if user changes annotation</p></li>
<li><p>log options from the command line interface are applied (they overwrite the environment variable)</p></li>
<li><p>all message arguments (kwargs in dispatcher.utter methods, as well as template args) are now sent through to output channels</p></li>
<li><p>utterance templates defined in actions are checked for existence upon training a new agent, and a warning
is thrown before training if one is missing</p></li>
</ul>
</div>
</div>
</div>


          </div>

          <div class="footer">
            <div class="questions">
              Stuck?
              <a class="reference external" href="https://forum.rasa.com" target="_blank">Ask a Question</a>
              or
              <a class="reference external" href="https://github.com/rasahq/rasa/issues" target="_blank">Create an Issue</a>
            </div>
            <div class="social">
              <a href="https://github.com/RasaHQ" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
              <a href="https://stackoverflow.com/search?q=rasa" target="_blank" title="Stack Overflow"><i class="fab fa-stack-overflow"></i></a>
              <a href="https://www.youtube.com/channel/UCJ0V6493mLvqdiVwOKWBODQ" target="_blank" title="YouTube"><i class="fab fa-youtube"></i></a>
              <a href="https://twitter.com/rasa_hq" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a>
            </div>

            <div class="copyright small">
            &copy;2020, Rasa Technologies | <a href="https://rasa.com/imprint/" target="_blank">Imprint</a> | <a href="https://rasa.com/privacy-policy/" target="_blank">Privacy Policy</a>
            
            </div>

          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>


    

  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag(...arguments) {
      dataLayer.push(...arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-87333416-1', {
      'anonymize_ip': true,
    });
  </script>
  <script src="https://rasa.com/assets/js/js.cookies.js"></script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script type="opt-in" data-name="analytics" data-type="text/javascript" data-src="https://www.googletagmanager.com/gtag/js?id=UA-87333416-1"></script>
  <script type="opt-in" data-name="analytics" data-type="text/javascript" data-src="https://rasa.com/assets/js/userId.js"></script>

  <script type="text/javascript">
    var clipboard = new ClipboardJS('.copyable');
    clipboard.on('success', function(e) {
      gtag('event', e.action, {
        'event_category': 'code',
        'event_label': e.text
      });
      const id = e.text.replace(/ /g,'-');
      document.getElementById(id).classList.add('visible');
      setTimeout(function(){
        document.getElementById(id).classList.remove('visible');},
        800
      );
    });
    clipboard.on('error', function(e) {
      console.log(e);
    });

  </script>

  <!-- ACE Editor, Train & download buttons -->
  <script>
    let updateIntervalId;

    function uuidv4() {
      return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>
              (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
      );
    }

    function fetchTracker(url, chatBlockId, conversationId) {
      $.ajax({
        url: url + "/conversations/" + conversationId + "/tracker",
        method: "get",
        dataType: 'json',
        contentType: 'application/json',
        success: function(tracker, status) {
          initChatBlock(url, chatBlockId, conversationId, tracker);
        }
      });
    }

    function sendMessage(url, chatBlockId, conversationId, tracker, message) {
      $.ajax({
        url: url + "/webhooks/rest/webhook",
        method: "post",
        dataType: 'json',
        contentType: 'application/json',
        data: JSON.stringify({
          sender: conversationId,
          message: message
        }),
        success: function(result, status) {
          fetchTracker(url, chatBlockId, conversationId);
        },
      });
    }

    function startFetchingTracker(url, chatBlockId, conversationId) {
      const interval = 2000;

      fetchTracker(url, chatBlockId, conversationId);

      updateIntervalId = setInterval(() => {
        fetchTracker(url, chatBlockId, conversationId);
      }, interval);
    }

    function initChatBlock(url, id, conversationId, tracker) {
      ChatBlock.default.init({
        onSendMessage: (message) => {
          sendMessage(url, id, conversationId, tracker, message);
        },
        username: conversationId,
        tracker: tracker,
        selector: id
      });
    }

    const chatBlockId = '#rasa-chat-block';
    const trackingId = uuidv4();

    $(document).ready(() => {
      // make editors work
      const editors = document.querySelectorAll('.ace-editor');

      const assignTrainingDataToButton = function(e, id, trainButton) {
        const trainingData = trainButton.data('training');

        trainButton.data('training', JSON.stringify({
          ...JSON.parse(trainingData || "{}") || {},
          [id]: e.getValue(),
        }));
      };

      ace.config.set('modePath', "/_static/ace/src-min-noconflict");

      Array.from(editors).forEach(function(editor) {
        const e = ace.edit(editor);
        const id = editor.dataset['id'];
        const trackingEndpoint = editor.dataset['tr-endpoint'];

        e.session.setMode("ace/mode/" + editor.dataset['language']);
        e.renderer.setShowGutter(false);
        e.renderer.setShowPrintMargin(false);
        e.renderer.setPadding(24);
        e.renderer.setScrollMargin(24);
        e.setHighlightActiveLine(false);

        if (trackingEndpoint) {
          e.on("change", function() {
            if (!editor.dataset.hasChanged) {
              editor.dataset.hasChanged = true;
              $.ajax({
                url: trackingEndpoint,
                method: "POST",
                data: {editor: id},
              });
            }
          });
        }

        const trainButton = $('.train__button');

        assignTrainingDataToButton(e, id, trainButton);
        e.on("blur", function() {
          assignTrainingDataToButton(e, id, trainButton);
        });

        editor.style.height = editor.dataset['height'] + 'px';
      });

      // initialize a chat block
      initChatBlock("", chatBlockId, trackingId, {});
    });

    // set train button callback
    $( ".train__button" ).click(function() {
      const trainButton = $('.train__button');
      const trainSpinner = $('.train__spinner');
      const downloadButton = $('.download__button');

      trainButton.prop("disabled", true);
      downloadButton.prop("disabled", true);
      trainSpinner.removeClass('train__spinner--hidden');

      if (updateIntervalId) {
        clearInterval(updateIntervalId);
        initChatBlock("", chatBlockId, trackingId, {});
      }

      $.ajax({
        url: trainButton.data('endpoint'),
        method: trainButton.data('method'),
        dataType: 'json',
        contentType: 'application/json',
        data: JSON.stringify({ tracking_id: trackingId, ...JSON.parse(trainButton.data('training')) }),
        success: function(result, status) {
          trainSpinner.addClass('train__spinner--hidden');
          trainButton.prop("disabled", false);

          if (result['project_download_url']) {
            trainSpinner.addClass('train__spinner--hidden');
            downloadButton.prop("disabled", false);
            downloadButton.data("url", result['project_download_url']);
          }

          if (result['rasa_service_url']) {
            const conversationId = uuidv4();
            startFetchingTracker(result['rasa_service_url'], chatBlockId, conversationId);
          }
        },
        error: function(result, status) {
          trainSpinner.addClass('train__spinner--hidden');
          trainButton.prop("disabled", false);
        }
      });
    });

    // set download button callback
    $( ".download__button" ).click(function() {
      const downloadButton = $('.download__button');
      const url = downloadButton.data("url");

      if (url) {
        location.href = url;
      }
    });
  </script>

  <!-- Dismissable announcement banner -->
  <script>
    var banners = document.querySelectorAll('.announcement-banner');

    Array.from(banners).forEach(function(banner) {
      var cookie_id = banner.dataset['cookie-id'];

      if (localStorage.getItem(cookie_id) !== 'true') {
        banner.classList.add('announcement-banner--visible');
      }

      var bannerCloseButton = banner.querySelector('.announcement-banner__close');

      bannerCloseButton && bannerCloseButton.addEventListener('click', function() {
        localStorage.setItem(cookie_id, 'true');
        banner.classList.remove('announcement-banner--visible');
      });
    });
  </script>

  <!-- onsite anchor fix (otherwise anchors scroll to far) -->
  <script>
    /* Adapted from https://stackoverflow.com/a/13067009/1906073 */
    (function(document, history, location) {
      var HISTORY_SUPPORT = !!(history && history.pushState);

      var anchorScrolls = {
        ANCHOR_REGEX: /^#[^ ]+$/,
        OFFSET_HEIGHT_PX: 66,

        /**
         * Establish events, and fix initial scroll position if a hash is provided.
         */
        init: function() {
          this.scrollToCurrent();
          $(window).on('hashchange', $.proxy(this, 'scrollToCurrent'));
          $('body').on('click', 'a', $.proxy(this, 'delegateAnchors'));
        },

        /**
         * Return the offset amount to deduct from the normal scroll position.
         * Modify as appropriate to allow for dynamic calculations
         */
        getFixedOffset: function() {
          return this.OFFSET_HEIGHT_PX;
        },

        /**
         * If the provided href is an anchor which resolves to an element on the
         * page, scroll to it.
         * @param  {String} href
         * @return {Boolean} - Was the href an anchor.
         */
        scrollIfAnchor: function(href, pushToHistory) {
          var match, anchorOffset;

          if(!this.ANCHOR_REGEX.test(href)) {
            return false;
          }

          match = document.getElementById(href.slice(1));

          if(match) {
            anchorOffset = $(match).offset().top - this.getFixedOffset();
            $('html, body').animate({ scrollTop: anchorOffset});

            // Add the state to history as-per normal anchor links
            if(HISTORY_SUPPORT && pushToHistory) {
              history.pushState({}, document.title, location.pathname + href);
            }
          }

          return !!match;
        },

        /**
         * Attempt to scroll to the current location's hash.
         */
        scrollToCurrent: function(e) {
          if(this.scrollIfAnchor(window.location.hash) && e) {
            e.preventDefault();
          }
        },

        /**
         * If the click event's target was an anchor, fix the scroll position.
         */
        delegateAnchors: function(e) {
          var elem = e.target;

          if(this.scrollIfAnchor(elem.getAttribute('href'), true)) {
            e.preventDefault();
          }
        }
      };

      $(document).ready($.proxy(anchorScrolls, 'init'));
    })(window.document, window.history, window.location);

  </script>
  <script type="opt-in" data-name="analytics" data-type="text/javascript" data-src="https://rasa.com/assets/js/u-info.js"></script>
      <div class="webchat-banner webchat-banner--hidden">
        <img src="https://rasa.com/assets/img/demo/sara_avatar.png" class="webchat-banner__avatar" alt="">
        👋 I can help you get started with Rasa and answer your technical questions.
        <button class="webchat-banner__close">
          <i class="fas fa-times"></i> 
        </button>
      </div>
      <div id="webchat">
        <script src="../_static/rasa-webchat.js"></script>
        <script>
          WebChat.default.init({
            selector: "#webchat",
            initPayload: "/greet",
            socketUrl: "https://website-demo.rasa.com/",
            socketPath: "/socket.io",
            title: "Sara",
            subtitle: "I'm still in development",
            profileAvatar: "https://rasa.com/assets/img/demo/sara_avatar.png",
            showCloseButton: true,
            fullScreenMode: false,
            hideWhenNotConnected: false,
            connectOn: "open",
            autoClearCache: true,
            linksOpenTab: false,
            openLauncherImage: "../_static/chat-icon.svg",
            customMessageDelay: (message) => {
              return 900 + message.length;
            },
            params: {
              storage: "local"
            },
            onWidgetEvent: {
              onChatOpen: () => {
                const webchatBanner = document.querySelector('.webchat-banner');
                if (webchatBanner) {
                  localStorage.setItem('WEBCHAT_BANNER_DISMISSED', 'true');
                  webchatBanner.classList.add('webchat-banner--hidden');
                }
              }
            }
          });

          try {
            const webchatBanner = document.querySelector('.webchat-banner');

            if (webchatBanner) {
              if (localStorage.getItem('WEBCHAT_BANNER_DISMISSED') !== 'true') {
                webchatBanner.classList.remove('webchat-banner--hidden');
              }

              const webChatBannerClose = document.querySelector('.webchat-banner__close');

              webChatBannerClose && webChatBannerClose.addEventListener('click', function() {
                localStorage.setItem('WEBCHAT_BANNER_DISMISSED', 'true');
                webchatBanner.classList.add('webchat-banner--hidden');
              });
            }
          } catch (e) {}
        </script>
      </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>